(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const a of n)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function i(n){const a={};return n.integrity&&(a.integrity=n.integrity),n.referrerPolicy&&(a.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?a.credentials="include":n.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(n){if(n.ep)return;n.ep=!0;const a=i(n);fetch(n.href,a)}})();const J="/assets/banner-DEuL622o.webp",X={grains:["Rice Noodles","Wheat Noodles","Buckwheat Noodles"],vegetable_bases:["Shredded Cabbage","Mashed Taro Root"]},Z={savory:["Umami_Rich Soy Sauce","Fermented Bean Paste (Miso_like)"],sweet:["Raw Honey","Date Syrup"]},Q={"Main Course":["stir_frying","roasting","grilling"],Dessert:["bakingFriendly","chilling/freezing"]},ee=["Hearty","Delicate","Crispy","Savory"],F=["Delight","Feast","Surprise","Medley"],te={byIngredientHint:{"Moon Peach":["Grown only in the light of a full moon..."],"Arctic Char":["A staple for warriors traversing the frozen wastes..."]},generic:["A dish with a long and storied history..."],_placeholders:{Geographical_Feature:["Whispering Mountains","Singing Valley"]}},M=["A serene, cloudlike {dishType} that weaves together airy textures and pure flavors, evoking the peace of a mountain sunrise at the {temple_name}.","This vegetarian {dishType} is a testament to the Air Nomad principle of treasuring all life, finding harmony in the gifts of the earth and sky.","A light and invigorating {dishType}, designed to clear the mind and quiet the spirit for meditation. Its subtle aromas are said to attract passing sky bison.","Evoking the freedom of the open sky, this {dishType} is a favorite among young airbenders. It is simple, yet profound—a meal of both body and spirit.","A dish of beautiful simplicity, reflecting the minimalist philosophy of the Air Nomads. Each ingredient is presented in its purest form.","This nourishing {dishType} is often prepared for traveling monks, providing sustenance for the body and clarity for the mind on long journeys."],$=["{baseIngredient} is hand-milled and gently steamed over mountain-top steam vents, then folded into cool {primaryIngredient}. {seasoningIngredient} and {garnishIngredient} are scattered upon it like a final, fragrant blessing.","While a monk softly chants the morning prayer, {primaryIngredient} is whisked until it becomes as frothy as a cloud. It is then gently combined with {secondaryIngredient} and served immediately to capture its airy essence.","To honor the balance between nature and spirit, no animal is harmed. The {primaryIngredient} and {secondaryIngredient} are combined with minimal intervention, celebrating their natural forms and flavors as a gift from the spirits.","The {primaryIngredient} is prepared in meditative silence, a practice to ensure purity of intent. The velvety {garnishIngredient} is added just before serving, a symbol of the fleeting beauty of the present moment.","The crisp {secondaryIngredient} is sliced paper-thin and arranged in a spiral, symbolizing the endless cycle of the wind. A light dressing of {primaryIngredient}, infused with {seasoningIngredient}, is poured over it."],_={default:["A dish with a history yet to be written, perhaps by you.","The origins of this recipe are lost to time, but its flavor is unforgettable.","A simple meal, but one that has sustained wandering monks for generations."],sky_bison:["Legend holds that the secret to this dish was first shared with the Air Nomads by a friendly sky bison, who considered its main ingredient a delicacy.","This meal is often prepared to honor the memory of Appa, the most legendary of all sky bison, who was known for his love of fresh fruit and vegetables."],nomadic_spirit:["This is a traveler's meal, designed to be prepared with few tools over a small campfire, embodying the resourcefulness of the nomadic spirit."],meditation:["The scent of this dish is often used as a focus for meditation. Monks believe its calming aroma helps to clear the mind and open the spirit."],temple_garden:["The ingredients for this dish are grown in the serene hanging gardens of the {temple_name}, tended to by monks as a form of active meditation."],guru_pathik:["Guru Pathik was said to have subsisted on a version of this dish while meditating at the Eastern Air Temple, unlocking his chakras with its pure energy."],ECLIPSE_DISH:["This rare dish is only prepared during a solar eclipse, when the line between the physical and spirit worlds is thin. It is said to grant the diner a brief glimpse into their own past lives."],LAGHIMA_FEAST:["An ancient recipe, this dish is served only once a decade to honor the wisdom of Guru Laghima, the legendary airbender who unlocked the secret of weightlessness. It is believed to lighten the diner's spirit, if not their body."]},A={ECLIPSE_DISH:{servingTradition:"Served at dawn immediately following the eclipse, when the air is still and the spirit world is said to be listening.",chefTip:"Eat this dish in complete silence, focusing on the flavors. You may receive a vision."},LAGHIMA_FEAST:{servingTradition:"Presented on a simple, unadorned clay plate, to represent Guru Laghima's detachment from earthly possessions.",chefTip:"Before eating, meditate for a moment on the concept of letting go of your earthly tethers."}},S={monks:["Monk Gyatso","Yangchen","Tenzin"],temples:["Western Air Temple","Eastern Air Temple","Southern Air Temple","Northern Air Temple"],bison:["Appa","Oogi","Juicy"]},ne={Spiritual:{adj:["Spirit_Touched"],conceptMod:"infused with a subtle spiritual energy.",plating:"minimalist, natural elements.",loreHints:["meditation"]},Royal:{adj:["Regal Dragon's"],conceptMod:"fit for the highest royalty.",plating:"elaborate, often with intricate carvings.",loreHints:["coronation"]}},j={ingredients:{dairy:[{name:"Sky Bison Yoghurt",type:"dairy",rolePreference:["primary","liquid","base"],canBeBase:!0,weight:"medium",rawCompatible:!0,tags:["creamy","fermented","air_nomad","staple","tangy","mild","vegetarian","dairy","sweet_compatible","nectar_base","dessert_base_ok","beverage_component","liquid_ish","sweet_sour_balance"],rarity:"common",flavorNotes:["creamy","tangy","mildly sweet","refreshing","silken","cool yogurt tang","calm"],shortDescription:"A creamy, tangy staple cherished by young nomads, believed to promote spiritual clarity.",culturalSignificance:"Represents the bond between the Air Nomads and the sky bison. It is a gift, never a product, and is central to their vegetarian diet, symbolizing a harmonious relationship with nature.",loreHints:["sky_bison","nomadic_spirit"]}],flavoringsHerbsSpices:[{name:"Lavender Buds",type:"herb",rolePreference:["accent","garnish","seasoning"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["floral","aromatic","air_nomad","delicate","calming","herb","sweet_compatible","sweet_herb","infusible_herb","beverage_component","fragile_garnish"],rarity:"uncommon",flavorNotes:["floral","sweetly herbaceous","calming aroma","gentle perfume","airy fragrance"],shortDescription:"Delicate purple buds used in calming teas and for garnishing desserts.",culturalSignificance:"Often used in meditation rituals to calm the mind and spirit. The scent is believed to help one connect with their inner chi.",loreHints:["meditation","temple_garden"]},{name:"Whisperwind Petals",type:"Edible Flower",rolePreference:["garnish","accent","seasoning"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["air_nomad","floral","delicate"],rarity:"uncommon",flavorNotes:["subtle floral","airy fragrance","perfume-like sweetness"],shortDescription:"Gossamer-thin petals that dissolve on the tongue, leaving a hint of sweetness.",culturalSignificance:"Gathered from flowers that grow only at high altitudes, these petals are a symbol of the ephemeral nature of life and the beauty of the present moment.",loreHints:["meditation_gardens"]}],fruitsVegetablesFungi:[{name:"Moon Peach",type:"fruit",rolePreference:["primary","garnish","base"],canBeBase:!0,weight:"medium",rawCompatible:!0,tags:["sweet","juicy","air_nomad","delicate","stone_fruit","fruit","nectar_source","sweet_compatible","dessert_fruit","dessert_primary_ok","dessert_base_ok","beverage_component","fruit_puree_candidate","fragile_garnish","honeyed"],rarity:"common",flavorNotes:["honeyed sweetness","floral aroma","velvety texture","dream-like","succulent","luscious"],shortDescription:"A sweet, velvety fruit that grows under the moonlight in temple gardens.",culturalSignificance:"Harvesting moon peaches is a quiet, meditative practice. They are often shared during evening gatherings to foster community and tranquility.",loreHints:["Moon Peach"]},{name:"Sky Sprouts",type:"Vegetable",rolePreference:["accent","garnish","base"],canBeBase:!0,weight:"light",rawCompatible:!0,tags:["air_nomad","fresh","crisp","peppery"],rarity:"common",flavorNotes:["crisp snap","fresh green","subtly peppery"],shortDescription:"Crunchy and cool, a favorite snack for young airbenders during flying lessons.",culturalSignificance:"Cultivated in spiraling hanging gardens, their upward growth symbolizes spiritual ascension. They are believed to bring luck and agility.",loreHints:["hanging_gardens"]},{name:"Aero-Melon",type:"Fruit",rolePreference:["primary","base"],canBeBase:!0,weight:"light",rawCompatible:!0,tags:["air_nomad","fruit","light","refreshing"],rarity:"uncommon",flavorNotes:["light sweetness","fluffy texture","watery essence"],shortDescription:"A fruit with a light, almost fluffy texture, said to taste like a cloud.",culturalSignificance:"A favorite treat of sky bison, and thus a cherished food for the Nomads. It embodies the lightness of being that all airbenders strive for.",loreHints:["sky_bison_treat"]},{name:"Summit Ginseng",type:"Root Vegetable",rolePreference:["accent","seasoning"],canBeBase:!1,weight:"medium",rawCompatible:!1,tags:["air_nomad","restorative","bitter","sweet"],rarity:"rare",flavorNotes:["complex bitter-sweetness","warming sensation","earthy aroma"],shortDescription:"A rare root found only on the highest, most inaccessible mountain peaks.",culturalSignificance:"Used in potent healing teas and elixirs. Finding it is considered a test of an airbender's connection to the mountain and the sky.",loreHints:["mountain_hermit"]}],grains:[{name:"Barley Tsampa",type:"grain",rolePreference:["base"],canBeBase:!0,weight:"heavy",rawCompatible:!1,tags:["staple","earthy","air_nomad","hearty","roasted_flour","grain","sweet_compatible","heavy_grain","solid_food_component","nutty"],rarity:"common",flavorNotes:["nutty","toasted","earthy sweetness","wholesome","robust","sustaining"],shortDescription:"A hearty, nutty-tasting roasted barley flour, a staple for traveling nomads.",culturalSignificance:"The primary sustenance for nomads on long journeys. It is simple, nourishing, and requires no cooking, embodying the principles of a minimalist, unburdened life.",loreHints:["guru_pathik","travel_food"]}]},cookingStyles:[{name:"gentle steaming",tags:["airNomadTradition","steaming"]}],adjectives:["Sky Temple","Meditative","Gentle Wind"],nameFormats:[{pattern:"{themeAdj} {nationAdj} {mainIngredient} {format}",slots:{themeAdj:["Sacred"],nationAdj:["Skyborne"],mainIngredient:"use_selected_main_ingredient",format:"use_dish_format"}}],platingNotes:["Served with minimalist elegance on simple, unadorned pottery."],nationDishTypeProfiles:{Dessert:{allowedTags:["fruit","sweet_compatible"],disallowedTags:["pungent_spice"]}},servingTraditions:["Served in silence at dawn in a hand-thrown bowl, a practice believed to bring clarity for a day of flight.","Traditionally offered to young monks upon completing their first solo glider flight, symbolizing their newfound freedom.","Eaten facing the sunrise at the Western Air Temple during the Festival of Winds, said to align one's chi with the morning breeze.","A communal dish shared during the welcoming of a new sky bison calf, symbolizing the bond between humans and animals.","Consumed quietly before an elder tells a story of Guru Laghima, as its light ingredients are thought to open the mind to wisdom."],chefTips:["For the true Air Nomad experience, enjoy this dish after morning glider practice.","Add an extra whisper of petals for luck on your next flight!","Air Nomad tradition advises against eating alone. Share this meal with a friend to double the spiritual benefits.","Before your first bite, take a deep breath and whisper a word of gratitude for the sky, the earth, and the spirits.","Legend says eating this dish lets you float for a day—though only Appa ever proved it. (Results may vary!)"]},x={ingredients:{animalProducts:[{name:"Arctic Char",type:"protein",rolePreference:["primary"],canBeBase:!0,weight:"medium",rawCompatible:!0,tags:["fish","seafood","water_tribe"],rarity:"common",flavorNotes:["rich_omega"],loreHints:["arctic_hunt"]},{name:"Sea-Prickle Roe",type:"Seafood (Roe)",rolePreference:["primary","accent"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["water_tribe","seafood","delicacy","briny","creamy"],rarity:"rare",flavorNotes:["rich_creamy_brine","buttery_texture"],loreHints:["chieftain_feast"]},{name:"Giant Crab Meat",type:"Seafood (Crustacean)",rolePreference:["primary"],canBeBase:!0,weight:"heavy",rawCompatible:!1,tags:["water_tribe","seafood","sweet","succulent"],rarity:"uncommon",flavorNotes:["naturally_sweet","savory","firm_texture"],loreHints:["coastal_celebration"]}],plants:[{name:"Sea Plums",type:"fruit",rolePreference:["accent"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["fruit","tart","water_tribe"],rarity:"uncommon",flavorNotes:["briny_tart"],loreHints:["coastal_foraging"]},{name:"Glacier Kelp",type:"Seaweed / Vegetable",rolePreference:["primary","accent"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["water_tribe","vegetable","seaweed","crisp","briny"],rarity:"uncommon",flavorNotes:["crisp_crunch","clean_brine","subtle_sea-sweetness"],loreHints:["southern_lights_snack"]},{name:"Bogberries (Preserved)",type:"Fruit",rolePreference:["accent","garnish"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["water_tribe","swamp","fruit","tart","preserved"],rarity:"common",flavorNotes:["intense_tartness","earthy_undertone","chewy_texture"],loreHints:["foggy_swamp_staple"]}]},cookingStyles:[{name:"boiling",tags:["waterTribeTradition","soupFriendly"]}],adjectives:["Frozen Tundra","Arctic Moon","Ocean Spirit"],nameFormats:[{pattern:"{nationAdj} {mainIngredient} Stew",slots:{nationAdj:["Frozen Deep"],mainIngredient:"use_selected_main_ingredient"}}],platingNotes:["Presented in sturdy, hand_carved wooden bowls."],nationDishTypeProfiles:{"Soup/Stew":{allowedTags:["fish","seafood"],disallowedTags:[]}}},O={ingredients:{grains:[{name:"Golden Terrace Rice",type:"grain",rolePreference:["base"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["staple","earth_kingdom","earthy","nutty","versatile","grain","sweet_compatible","light_grain","can_be_sweetened_neutral","solid_food_component","savory_compatible","soup_compatible","stew_compatible","fluffy"],rarity:"common",flavorNotes:["nutty","slightly_sweet","fluffy_texture","absorbent","golden-hue","aromatic-grain"],loreHints:["ba_sing_se","harvest_festival"]}],fruitsVegetablesFungi:[{name:"Fermented Lotus Root Chips",type:"vegetable",rolePreference:["primary","accent","garnish"],canBeBase:!0,weight:"light",rawCompatible:!0,tags:["root_veg","crunchy","earth_kingdom","fermented","tangy","vegetable","fermented_savory","umami","portable_snack_form","street_food_snack","crispy"],rarity:"uncommon",flavorNotes:["tangy_sour","crisp_texture","umami_hint","savory-crunch","pickled-earth"],loreHints:["ancient_preservation","earth_bender_snack"]},{name:"Cactus Juice",type:"liquid",rolePreference:["primary","liquid","base"],canBeBase:!0,weight:"medium",rawCompatible:!0,tags:["earth_kingdom","liquid","sweet_compatible","nectar_base","dessert_base_ok","beverage_component","liquid_ish","sweet_sour_balance"],rarity:"common",flavorNotes:["sweet_sour","refreshing","silken","yogurt-tang","cool-touch"],loreHints:["sokka_quencher"]},{name:"Badgermole Truffles",type:"Fungus",rolePreference:["accent","seasoning"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["earth_kingdom","fungus","rare","pungent","earthy"],rarity:"epic",flavorNotes:["intense_musky_earth","powerful_aroma"],loreHints:["badgermole_delicacy"]},{name:"Omashu Jingu-Peaches",type:"Fruit",rolePreference:["primary","base"],canBeBase:!0,weight:"heavy",rawCompatible:!0,tags:["earth_kingdom","fruit","juicy","sweet"],rarity:"uncommon",flavorNotes:["explosively_juicy","honeyed_sweetness","firm_flesh"],loreHints:["king_bumi_favorite"]},{name:"Jade Vine Shoots",type:"Vegetable",rolePreference:["primary","accent"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["earth_kingdom","vegetable","crisp","tender","noble"],rarity:"uncommon",flavorNotes:["tender_crisp","clean_green_flavor","mildly_sweet"],loreHints:["ba_sing_se_feast"]}],proteins:[{name:"Jennamite",type:"crystal",rolePreference:["primary","liquid","base"],canBeBase:!0,weight:"medium",rawCompatible:!0,tags:["earth_kingdom","liquid","sweet_compatible","nectar_base","dessert_base_ok","beverage_component","liquid_ish","sweet_sour_balance"],rarity:"common",flavorNotes:["sweet_sour","refreshing","silken","yogurt-tang","cool-touch"],loreHints:["crystal_caves"]},{name:"Sand-Shark Jerky",type:"Meat",rolePreference:["primary","snack"],canBeBase:!1,weight:"medium",rawCompatible:!0,tags:["earth_kingdom","desert","meat","spicy","jerky"],rarity:"common",flavorNotes:["leathery_chew","smoky_spicy_salt"],loreHints:["sandbender_travel_food"]}]},cookingStyles:[{name:"hearty roasting",tags:["earthKingdomTradition","roasting"]}],adjectives:["Earthen Heart","Stone Fortress","Ba Sing Se Imperial"],nameFormats:[{pattern:"{nationAdj} {mainIngredient} {format}",slots:{nationAdj:["Ba Sing Se Grand"],mainIngredient:"use_selected_main_ingredient",format:"use_dish_format"}}],platingNotes:["Served generously on sturdy earthenware or heavy pottery."],nationDishTypeProfiles:{"Main Course":{allowedTags:["grain","protein","vegetable","earthy","hearty","savory_compatible"],disallowedTags:["fiery","delicate","floral"]}}},G={ingredients:{grains:[{name:"Dragon's Breath Infused Rice",type:"grain",rolePreference:["base"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["spicy_hint","fire_nation","aromatic","staple","grain","sweet_compatible","light_grain","solid_food_component","savory_compatible","fragrant_spice","soup_compatible","stew_compatible","fluffy"],rarity:"uncommon",flavorNotes:["fluffy_texture","subtle_smoky","warm_spice_aroma","saffron_color","fragrant","lightly-spiced"],loreHints:["volcanic_steam","sun_warrior_ritual"]}],fruitsAndVegetables:[{name:"Ember Chili",type:"spice",rolePreference:["seasoning","accent"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["vegetable","chili","spicy","fiery","fire_nation","staple","versatile_heat","spice","pungent_spice","savory_compatible"],rarity:"common",flavorNotes:["varied_fiery_heat","smoky_undertones","fruity_notes_in_some","sharp_spice","blazing","tingling"],loreHints:["sozins_comet_pepper","spice_tolerance_test"]},{name:"Fire Flakes",type:"spice",rolePreference:["seasoning","accent"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["fire_nation","spice","spicy","fiery","savory_compatible"],rarity:"common",flavorNotes:["spicy_fiery_heat","smoky_undertones","fruity_notes_in_some","sharp_spice","blazing","tingling"],loreHints:["spice_trade"]},{name:"Soot-Lemons",type:"Fruit",rolePreference:["accent","seasoning"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["fire_nation","fruit","sour","smoky"],rarity:"uncommon",flavorNotes:["intense_sour","smoky_zest"],loreHints:["volcanic_citrus"]},{name:"Obsidian Beans",type:"Legume / Protein",rolePreference:["primary","base"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["fire_nation","protein","legume","hearty","staple"],rarity:"common",flavorNotes:["deep_earthy_flavor","creamy_texture"],loreHints:["colony_staple_food"]}],grainsAndNoodles:[{name:"Sizzling Rice",type:"grain",rolePreference:["base"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["staple","fire_nation","earthy","nutty","versatile","grain","sweet_compatible","light_grain","can_be_sweetened_neutral","solid_food_component","savory_compatible","soup_compatible","stew_compatible","fluffy"],rarity:"common",flavorNotes:["nutty","slightly_sweet","fluffy_texture","absorbent","golden-hue","aromatic-grain"],loreHints:["ember_island_specialty"]},{name:"Volcanic Glass Noodles",type:"Noodle",rolePreference:["base","primary"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["fire_nation","noodle","chewy","absorbent"],rarity:"uncommon",flavorNotes:["slippery_springy_texture","absorbent"],loreHints:["geothermal_cooking"]}],spicesAndSeasonings:[{name:"Dragon Pepper",type:"spice",rolePreference:["seasoning","accent"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["fire_nation","spice","spicy","fiery","savory_compatible"],rarity:"common",flavorNotes:["spicy_fiery_heat","smoky_undertones","fruity_notes_in_some","sharp_spice","blazing","tingling"],loreHints:["sun_warrior_ritual"]},{name:"Fire-Flake Salt",type:"Salt",rolePreference:["seasoning"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["fire_nation","salt","spicy","mineral"],rarity:"rare",flavorNotes:["sharp_saltiness","fiery_finish"],loreHints:["ember_island_salt_pans"]}]},cookingStyles:[{name:"grilling over open flames",tags:["fireNationTradition","grilling"]}],adjectives:["Volcanic Peak","Ember Island","Inferno Kissed"],nameFormats:[{pattern:"{nationAdj} {mainIngredient}",slots:{nationAdj:["Fiery Soul's"],mainIngredient:"use_selected_main_ingredient"}}],platingNotes:["Presented with dramatic flair on dark, heavy plates."],nationDishTypeProfiles:{"Main Course":{allowedTags:["grain","protein","vegetable","spicy","fiery","smoky","umami","savory_compatible"],disallowedTags:["delicate","floral"]}}},q={ingredients:{general:[{name:"Artisan Sourdough",type:"grain",rolePreference:["base"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["bread","united_republic","cafe_staple","grain","can_be_sweetened_neutral","solid_food_component","crispy_bread_component","savory_compatible"],rarity:"common",flavorNotes:["tangy_sour","chewy_crust","airy-crumb","rustic-aroma"],loreHints:["republic_city_bakery"]}],fusionAndModern:[{name:"Cabbage Corp Kimchi",type:"fermented",rolePreference:["base"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["united_republic","fusion","fermented","savory_compatible"],rarity:"common",flavorNotes:["tangy_sour","fermented_flavor"],loreHints:["cabbage_corp_product"]},{name:"Republic City 'Everything' Spice",type:"Spice Blend",rolePreference:["seasoning"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["united_republic","fusion","spice_blend","savory"],rarity:"common",flavorNotes:["complex_savory_blend","toasted_sesame","garlic_notes"],loreHints:["street_food_secret"]},{name:"Industrial Miso Paste",type:"Condiment / Paste",rolePreference:["binder","seasoning","base"],canBeBase:!0,weight:"medium",rawCompatible:!1,tags:["united_republic","fusion","umami","paste"],rarity:"common",flavorNotes:["deep_salty_umami","fermented_flavor"],loreHints:["future_industries_canteen"]},{name:"Pro-Bender's Energy Gel",type:"Sweetener / Snack",rolePreference:["accent","binder"],canBeBase:!1,weight:"light",rawCompatible:!0,tags:["united_republic","modern","sweetener","processed"],rarity:"common",flavorNotes:["artificial_fruit_flavor","sugary_boost","gelatinous"],loreHints:["pro_bending_snack"]}]},cookingStyles:[{name:"fusion cuisine (primary)",tags:["unitedRepublicModern","fusion"]}],adjectives:["Republic City Metro","Modern Fusion","Avatar Korra's Era"],nameFormats:[{pattern:"{adj} {mainIngredient1}_{mainIngredient2} Fusion",slots:{adj:["Dynamic"],mainIngredient1:"use_selected_main_ingredient",mainIngredient2:"use_selected_secondary_ingredient"}}],platingNotes:["Modern, artistic, and eclectic presentation."],nationDishTypeProfiles:{"Main Course":{allowedTags:["grain","noodle","protein","vegetable","fusion","umami","spicy","savory_compatible"],disallowedTags:["delicate","floral"]}}},z={ingredients:{general:[{name:"Luminous Fungi Clusters",type:"fungi",rolePreference:["primary","garnish","base"],canBeBase:!0,weight:"light",rawCompatible:!0,tags:["spirit_world","ethereal","glowing","mystical","umami_light","fungi","sweet_compatible","dessert_base_ok","spiritual_essence","beverage_component","delicate","shifting_texture"],rarity:"epic",flavorNotes:["delicate_umami","moonlight_taste","shifting_texture","faintly_sweet","otherworldly","translucent","pulsing"],loreHints:["Luminous Fungi Clusters"]}]},cookingStyles:[{name:"naturally occurring/manifesting",tags:["spiritWorldNature","ethereal","uniqueSpirit","no_cook"]}],adjectives:["Spirit Grove","Luminous Path","Whispering Woods'"],nameFormats:[{pattern:"{adj} {mainIngredient} Nectar",slots:{adj:["Glimmering"],mainIngredient:"use_selected_main_ingredient"}}],platingNotes:["Naturally beautiful and seemingly effortless presentation."],nationDishTypeProfiles:{Nectar:{allowedTags:["ethereal","sweet","fruit","nectar_source","spiritual_essence","fungi","liquid_ish","delicate","subtle","beverage_component","infusible_herb","creamy"],disallowedTags:["solid_food_component","pungent_spice","savory_scramble","strong_fish"]}}},re=Object.freeze(Object.defineProperty({__proto__:null,CONCEPT_TEMPLATES:M,DISH_LORE_TEMPLATES:te,LORE_LIBRARY:_,LORE_PLACEHOLDERS:S,PREPARATION_TEMPLATES:$,SPECIAL_LORE_EXTRAS:A,airNomads:j,baseComponents:X,cookingMethodsByDishType:Q,earthKingdom:O,fireNation:G,flavorProfiles:Z,genericAdjectives:ee,genericDishNouns:F,spiritWorld:z,themes:ne,unitedRepublic:q,waterTribes:x},Symbol.toStringTag,{value:"Module"}));let N=Math.random;function ie(t){let e=0;for(let i=0;i<t.length;i++)e=(e<<5)-e+t.charCodeAt(i),e|=0;return function(){return e=(1664525*e+1013904223)%2**32,e/2**32}}function ae(t){t?(console.log(`Using seeded RNG with seed: "${t}"`),N=ie(t)):(console.log("Using standard RNG (Math.random)."),N=Math.random)}function c(t){if(!(!t||!Array.isArray(t)||t.length===0))return t[Math.floor(N()*t.length)]}function oe(t){let e=t.length,i;for(;e>0;)i=Math.floor(N()*e),e--,[t[e],t[i]]=[t[i],t[e]];return t}const W=Object.freeze({FIRE:"Fire Nation",WATER:"Water Tribes",AIR:"Air Nomads",EARTH:"Earth Kingdom",SPIRIT:"Spirit World",REPUBLIC:"United Republic"});Object.freeze(Object.fromEntries(Object.entries(W).map(([t,e])=>[e,t])));const se=Object.freeze(["primary","liquid","base","accent","garnish","seasoning","snack","binder"]),le=Object.freeze(["dairy","herb","edible flower","fruit","vegetable","root vegetable","grain","fungus","liquid","crystal","meat","spice","legume / protein","noodle","salt","protein","seafood (roe)","seafood (crustacean)","seaweed / vegetable","fermented","spice blend","condiment / paste","sweetener / snack"]),ce={"Air Nomads":j,"Water Tribes":x,"Earth Kingdom":O,"Fire Nation":G,"United Republic":q,"Spirit World":z};function de(t,e){let i=!0;const r=(n,a)=>{console.error(`[Ingredient Validation Error] Ingredient "${t.name||"UNKNOWN"}" (id: ${e}): Field "${n}" ${a}.`),i=!1};return["name","type","source"].forEach(n=>{(typeof t[n]!="string"||t[n].length===0)&&r(n,"is missing, not a string, or empty")}),["canBeBase","rawCompatible"].forEach(n=>{typeof t[n]!="boolean"&&r(n,"is missing or not a boolean")}),["rolePreference","tags","flavorNotes"].forEach(n=>{(!Array.isArray(t[n])||t[n].length===0||!t[n].every(a=>typeof a=="string"))&&r(n,"is missing, not an array, empty, or contains non-string values")}),i}function me(t){const i=[t.name||"Unknown Ingredient"],r=[];return r.push(`Role: ${t.role||"unknown"}`),r.push(`Type: ${t.type||"unknown"}`),t.source?r.push(`Source: ${t.source}`):(console.error("[Formatting Error] Ingredient is missing a source:",t),r.push("Source: Unknown")),t.rarity&&t.rarity!=="common"&&r.push(`Rarity: ${t.rarity}`),r.length>0&&i.push(`(${r.join("; ")})`),i.join(" ")}function ge(t){const{nations:e=[]}=t,i=[];return e.forEach(r=>{const n=ce[r];if(n&&n.ingredients)for(const a in n.ingredients)n.ingredients[a].forEach((o,l)=>{const d={...o,source:r};de(d,`${r}-${a}-${l}`)&&i.push(d)})}),i}function ue(t,e){const i=t.filter(r=>r.rolePreference&&r.rolePreference.includes("primary"));return c(i)}function he(t,e,i){const r=t.filter(n=>n.name!==(i==null?void 0:i.name)&&n.rolePreference&&n.rolePreference.includes("accent"));return c(r)}function pe(t,e){const i=t.filter(r=>r.canBeBase);return c(i)}function fe(t,e){const i=t.filter(r=>r.rolePreference&&r.rolePreference.includes("seasoning"));return c(i)}function ye(t,e){const i=t.filter(r=>r.rolePreference&&r.rolePreference.includes("garnish"));return c(i)}function E(t,e){if(typeof t!="string")return console.error(`[Validation Error] Expected a string from ${e}, but received:`,t),"";const i=t.match(/\{[^{}]+\}/g);return i&&i.length>0&&console.error(`[Text Generation Error] Found unprocessed placeholders in "${e}": ${i.join(", ")}`,`
Full Text: "${t}"`),t}function _e(t,e){let i=t;return i=i.replace(/\{(.*?)\}/g,(r,n)=>{const a=n.trim();if(e.hasOwnProperty(a)){let o=e[a];return typeof o=="object"&&o!==null&&o.name&&(o=o.name.split(" (")[0]),String(o)}return r}),i.replace(/\{([A-Za-z_]+)\}/g,(r,n)=>e[n]!==void 0?String(e[n]):`[${n.replace(/_/g," ").toLowerCase()}]`)}function be(t,e,i,r){const n={},a=e.find(g=>g.role==="primary");n.format=i,n.mainIngredient=a?a.name:c(F),n.nationAdj=t.length>0?t[0].split(" ")[0]:"Elemental";const d=(_e("{nationAdj} {mainIngredient} {format}",n).replace(/\s+/g," ").trim()||"Unnamed Culinary Creation").replace(/\s+/g," ").trim();return E(d,"Dish Name")}function we(t,e,i,r){const n=i[0]||"the Four Nations",a=c(M);if(!a)return"A dish of mysterious origins.";const o=`the ${c(["Western","Eastern","Northern","Southern"])} Air Temple`,l=a.replace(/\{nation_name\}/g,n).replace(/\{dishType\}/g,r).replace(/\{temple_name\}/g,o);return E(l,"Dish Concept")}function ve(t){let e=[];const i=new Set(t.map(a=>a.name));if(i.has("Moon Peach")&&i.has("Summit Ginseng"))return c(_.ECLIPSE_DISH);const r=t.flatMap(a=>a.loreHints||[]);return[...new Set(r)].forEach(a=>{_[a]&&e.push(..._[a])}),e.length===0&&e.push(..._.default),c(e)||_.default[0]}function Te(t,e){var s,m,u,f,p;const i=e[0]||"the Four Nations",r=c($);if(!r)return"The ingredients are combined.";const n=((s=t.find(h=>h.role==="primary"))==null?void 0:s.name)||"the main ingredient",a=((m=t.find(h=>h.role==="accent"))==null?void 0:m.name)||"another ingredient",o=((u=t.find(h=>h.role==="base"))==null?void 0:u.name)||"the base",l=((f=t.find(h=>h.role==="seasoning"))==null?void 0:f.name)||"spices",d=((p=t.find(h=>h.role==="garnish"))==null?void 0:p.name)||"a garnish",g=r.replace(/\{nation_name\}/g,i).replace(/\{mainIngredient\}/g,n).replace(/\{primaryIngredient\}/g,n).replace(/\{secondaryIngredient\}/g,a).replace(/\{baseIngredient\}/g,o).replace(/\{seasoningIngredient\}/g,l).replace(/\{garnishIngredient\}/g,d).replace(/\{cooking_verb\}/g,c(["prepared","cooked","mixed","blended"]));return E(g,"Dish Preparation")}const Ie=["A delicate balance of {note1} and {note2}, with a surprising finish of {note3}.","Opens with a wave of {note1}, followed by gentle notes of {note2} and a whisper of {note3}.","The profile is led by {note1}, complemented by an undercurrent of {note2} and a hint of {note3}.","Earthy {note1} and bright {note2} mingle, grounded by a touch of {note3}.","Aromatic {note1} gives way to a complex palate of {note2}, finishing with a clean {note3} note."],Se=t=>t&&t[0].toUpperCase()+t.slice(1)||"";function Ne(t){const e=t.flatMap(s=>s.flavorNotes||[]);if(e.length<3)return"A dish with a simple, harmonious flavor profile.";const i=[...new Set(e)],r=i.filter(s=>!i.some(m=>s!==m&&m.includes(s))),n=oe(r),a=n[0]||"subtlety",o=n[1]||"complexity",l=n[2]||"character",g=c(Ie).replace("{note1}",a).replace("{note2}",o).replace("{note3}",l);return E(Se(g),"Flavor Notes")}function I(t){if(typeof t!="string")return t;let e=t;const i="aeiou";return e=e.replace(/\b(an)\s+([uU][nN][iI][qQ][uU][eE]|[uU][nN][iI][FfSsTtCc]|[eE][uU])/g,"a $2"),e=e.replace(/\b(a|an)\s+\1\b/gi,"$1"),e=e.replace(/\b(a|an) +([a-zA-Z\{][\w\{]*)/gi,(r,n,a)=>{const o=a[0].toLowerCase(),l=i.includes(o)&&!a.toLowerCase().startsWith("uni")&&!a.toLowerCase().startsWith("eu")&&!a.toLowerCase().startsWith("one");return n.toLowerCase()==="a"&&l?`an ${a}`:n.toLowerCase()==="an"&&!l?`a ${a}`:r}),e=e.replace(/its (a|an) (\w+ [\w_'-]+) and (its|the) (a|an)? \2/gi,"its $2"),e=e.replace(/its (a|an) (\w+ [\w_'-]+) and \2/gi,"its $2"),e=e.replace(/its (a|an) (\w+) character/gi,"its $2 character"),e=e.replace(/its (a|an) (\w+) essence/gi,"its $2 essence"),e=e.replace(/\bof an? ancient set of an? ancient\b/gi,"of a set of ancient"),e=e.replace(/\b(\w+)\s+\1\b/gi,"$1"),e=e.replace(/a touch of an elegant touch/gi,"an elegant touch"),e.replace(/\s+/g," ").trim()}function Ee(){document.getElementById("dishName").textContent="Conjuring a new culinary masterpiece...",document.getElementById("dishConcept").textContent="The spirits of the four nations are whispering their secrets...",document.getElementById("ingredientList").innerHTML="",document.getElementById("dishNotes").textContent="Please wait while the elemental kitchens are hard at work.",document.getElementById("dishLore").style.display="none",document.getElementById("dishResult").style.display="block"}function Ce(t){const{name:e,concept:i,ingredients:r,notes:n,lore:a}=t;document.getElementById("dishName").textContent=I(e),document.getElementById("dishConcept").textContent=I(i);const o=document.getElementById("ingredientList");o.innerHTML="",r.forEach(l=>{const d=document.createElement("li");l&&l.name?d.textContent=me(l):d.textContent="Invalid ingredient data",o.appendChild(d)}),document.getElementById("dishNotes").textContent=I(n),a?(document.getElementById("loreText").textContent=I(a),document.getElementById("dishLore").style.display="block"):document.getElementById("dishLore").style.display="none",document.getElementById("dishResult").style.display="block"}function ke(t){document.getElementById("dishName").textContent="A Culinary Mishap!",document.getElementById("dishConcept").textContent="The spirits seem to be in disarray. An error occurred during generation.",document.getElementById("ingredientList").innerHTML="",document.getElementById("dishNotes").textContent=`Error details: ${t.message}. Please check the console for more information.`,document.getElementById("dishLore").style.display="none",document.getElementById("dishResult").style.display="block"}function w(t,e,i=""){const r=document.createElement("div");r.className="dish-section";const n=document.createElement("h3");if(n.innerHTML=`${i} ${t}`,r.appendChild(n),typeof e=="string"){const a=document.createElement("p");a.innerHTML=e,r.appendChild(a)}else r.appendChild(e);return r}function Be(t){const e=document.getElementById("dishResult");if(!e)return;e.innerHTML="",e.style.display="block";const{name:i,concept:r,flavorNotes:n,ingredients:a,preparationAndRitual:o,servingTradition:l,lore:d,chefTip:g}=t,s=document.createElement("h2");if(s.id="dishName",s.textContent=i,e.appendChild(s),r&&e.appendChild(w("Concept",r,"💡")),n){const m=w("Flavor Notes",n,"-");m.id="flavorNotes-section",e.appendChild(m)}if(a&&a.length>0){const m=document.createElement("ul");m.id="ingredientList",a.forEach(u=>{const f=document.createElement("li");f.classList.add(`rarity-${u.rarity||"common"}`);let p="";u.rarity==="rare"&&(p="💎 "),u.rarity==="legendary"&&(p="✨ ");const h=`(${u.role}, ${u.type})`,v=u.shortDescription?`— <em>${u.shortDescription}</em>`:"";f.innerHTML=`${p}<strong>${u.name}</strong> <span class="ingredient-meta">${h}</span> ${v}`,m.appendChild(f)}),e.appendChild(w("Key Ingredients & Roles",m,"🌱"))}if(o&&e.appendChild(w("Preparation & Ritual",o,"🥣")),l&&e.appendChild(w("Serving Tradition",l,"🏮")),d&&e.appendChild(w("Lore",d,"📜")),g){const m=w("Chef's Tip",g,"🧑‍🍳");m.classList.add("chef-tip"),e.appendChild(m)}}function Ae(t){return t?t.replace(/\{monk_name\}/g,c(S.monks)).replace(/\{temple_name\}/g,c(S.temples)).replace(/\{bison_name\}/g,c(S.bison)):""}function Pe(t,e,i,r){const n=e.length>0?e:W,a=n[0],o=re[a.toLowerCase().replace(" ","")],d={"Air Nomads":"🍃","Water Tribes":"🌊","Earth Kingdom":"🪨","Fire Nation":"🔥","United Republic":"🏙️","Spirit World":"🌌"}[a]||"🍲",g=ge({nations:n}),s=[],m=new Set,u=["primary","base","seasoning","accent","garnish"],f=new Set,p=(b,B,K=!0)=>{const H=g.filter(Y=>!m.has(Y.name));let T=b(H,t);!T&&K&&(T=c(H)),T?(s.push({...T,role:B}),m.add(T.name),f.add(B)):console.warn(`[Generator] Could not find a suitable unique ingredient for role: "${B}"`)};p(ue,"primary"),p(he,"accent"),p(pe,"base",!1),p(fe,"seasoning"),p(ye,"garnish");const h=u.filter(b=>!f.has(b));Re(s),De(s);const v=be(n,s,t),V=we(v,s,n,t),U=Ne(s),P=Te(s,n),L=new Set(s.map(b=>b.name));let y,C,k;L.has("Moon Peach")&&L.has("Summit Ginseng")?(y=c(_.ECLIPSE_DISH),C=A.ECLIPSE_DISH.servingTradition,k=A.ECLIPSE_DISH.chefTip):(y=ve(s),C=c(o==null?void 0:o.servingTraditions),k=c(o==null?void 0:o.chefTips)),y=y||c(_.default),y=Ae(y).replace(/\{nation_name\}/g,a).replace(/\{Dish_Name\}/g,v);const R=s.find(b=>b.role==="primary");R&&(y=y.replace(/\{mainIngredient\}/gi,R.name));const D={name:`${d} ${v}`,concept:V,flavorNotes:U,ingredients:s,preparationAndRitual:P,servingTradition:C||"Served with humble grace.",lore:validateStringAndLog(y,"Dish Lore"),chefTip:k||"Best enjoyed with an open heart.",notes:P,missingRoles:h};return Le(D),D}function Le(t){let e=!0;return["name","concept","flavorNotes","preparationAndRitual","servingTradition","lore","chefTip"].forEach(r=>{(typeof t[r]!="string"||t[r].length===0)&&(console.error(`[Result Validation Error] DishResult key "${r}" is missing, not a string, or empty.`),e=!1)}),Array.isArray(t.ingredients)?t.ingredients.length===0?(console.error("[Result Validation Error] DishResult.ingredients is empty."),e=!1):t.ingredients.some(r=>!r)&&(console.error("[Result Validation Error] DishResult.ingredients contains null or undefined entries."),e=!1):(console.error("[Result Validation Error] DishResult.ingredients is not an array."),e=!1),e}function Re(t){const e=new Set;for(const i of t)e.has(i.name)&&console.error(`[Critical] Duplicate ingredient found in final dish: "${i.name}". This indicates a selection logic failure.`),e.add(i.name)}function De(t){t.forEach(e=>{e.role&&!se.includes(e.role)&&console.warn(`[Validation] Ingredient "${e.name}" has non-standard role: "${e.role}"`),e.type&&!le.includes(e.type.toLowerCase())&&console.warn(`[Validation] Ingredient "${e.name}" has non-standard type: "${e.type}"`)})}function He(){return{name:"🍃 Sky Temple Moon Peach Salad",concept:"A serene, cloudlike dish cherished by wandering acolytes. This main course weaves together airy textures and pure flavors, evoking the peace of a mountain sunrise.",flavorNotes:"Opens with a wave of honeyed sweetness, followed by gentle notes of velvety texture and a whisper of calm.",ingredients:[{name:"Sky Bison Yoghurt",role:"base",type:"dairy",source:"Air Nomads",shortDescription:"Creamy and tart, prized for its lightness—said to clear the mind before meditation."},{name:"Moon Peach",role:"primary",type:"Fruit",source:"Air Nomads",rarity:"common",shortDescription:"A sweet, velvety fruit that grows under the moonlight in temple gardens."},{name:"Lavender Buds",role:"seasoning",type:"herb",source:"Air Nomads",rarity:"uncommon",shortDescription:"A final touch for tranquility, scattered before serving."},{name:"Sky Sprouts",role:"accent",type:"Vegetable",source:"Air Nomads",shortDescription:"Crunchy and cool, believed to bring luck in flight."},{name:"Whisperwind Petals",role:"garnish",type:"Edible Flower",source:"Air Nomads",rarity:"uncommon",shortDescription:"Their subtle aroma is thought to connect diners with the spirit world."}],preparationAndRitual:"Barley tsampa is steamed while a novice chants the morning prayer. Yoghurt is whisked until frothy, then folded with the sprouts and petals. Served in hand-thrown bowls, diners are encouraged to eat in silence, honoring air and ancestry.",servingTradition:"Offered at the Western Air Temple during the Festival of Winds; said to bring clarity and lightness to the soul.",lore:'Legend holds that Sky Bison Yoghurt first appeared in a vision to Monk Gyatso, inspiring generations to seek harmony between spirit and sustenance. Even today, acolytes claim the yoghurt "hums" when a dish is made with pure intent.',chefTip:"Enjoy after morning glider practice for the full Air Nomad experience.",notes:"This is a deprecated field.",missingRoles:[]}}document.addEventListener("DOMContentLoaded",()=>{document.getElementById("banner-image").src=J;const t=new URLSearchParams(window.location.search),e=t.get("demo")==="true",i=t.get("seed");ae(i);const r=document.getElementById("generate-btn");if(!r){console.error("CRITICAL ERROR: The button with id 'generate-btn' was not found. Script cannot execute.");return}if(e){const n=He();Ce(n)}r.addEventListener("click",n=>{n.preventDefault();const a=document.getElementById("dishTypeInput").value,o=Array.from(document.querySelectorAll("input[name='nation']:checked")).map(g=>g.value),l=document.getElementById("specialThemes").value,d="Default";if(o.length===0){alert("Please select at least one nation!");return}Ee(),setTimeout(()=>{try{const g=Pe(a,o,d,l);Be(g)}catch(g){console.error("Error during dish generation:",g),ke(g)}},50)})});
