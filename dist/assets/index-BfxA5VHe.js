(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function t(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=t(r);fetch(r.href,a)}})();const w=[{name:"Baking",dishSubtype:"Bake",description:"The monks are skilled bakers, creating everything from fruit pies to fluffy buns in their stone ovens, often using airbending to ensure even cooking."},{name:"Steaming",dishSubtype:"Steam",description:"A gentle cooking method using aromatic steam to preserve the natural, subtle flavors and textures of vegetables and tofu."},{name:"Light Sauté",dishSubtype:"Stir-fry",description:"A quick stir in a hot wok with minimal oil, keeping vegetables crisp and vibrant while respecting their essence."},{name:"Simmering",dishSubtype:"Curry",description:"A slow, gentle cooking in liquid to meld flavors, perfect for creating rich curries and broths."},{name:"Piemaking",dishSubtype:"Pie",description:"A beloved pastime, creating savory or sweet pies with flaky, air-puffed crusts."},{name:"Minimalist Assembly",dishSubtype:"Salad",description:"A philosophy of using very little cooking, allowing the pure, inherent taste of the raw ingredients to be the focus of the meal."},{name:"Juicing",dishSubtype:"Juice",description:"A simple process of extracting the vibrant, raw essence of fruits and some vegetables into a refreshing drink."}],k={nation:"air-nomads",dishEmojis:{"main-course":["🍲","🧆","🥘"],"side-dish":["🍚","🥣"],snack:["🥠","🥟"],dessert:["🥧","🍮","🥮"],"soup-stew":["🥣","🍲"],salad:["🥗","🥬"],beverage:["🧋","🍵","🥤"]},nameParts:{prefixes:["Soaring","Whispering","Monk Gyatso's","Meditative","Peaceful","Sky Temple","Four Winds","Silent"],middles:["Wind","Cloud","Spirit","Lotus","Mountain","Sunrise","Treetop","Pilgrim's"],suffixes:["Surprise","Delight","Special","Medley","Festival"]}},C=[{name:"Apple",emoji:"🍎",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","bake","salad","juice"],description:"A crisp, versatile fruit, often used in both pies and refreshing juices."},{name:"Banana",emoji:"🍌",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","bake","juice"],description:"A soft, sweet fruit that provides quick energy for long meditation sessions."},{name:"Moon Peach",emoji:"🍑",rarity:"Rare",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","salad","garnish"],description:"A rare, mystical fruit said to bloom only under the full moon."},{name:"Lychee Nuts",emoji:"🥭",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["pie","salad","juice","garnish"],description:"Small, fragrant fruits with a delicate sweetness and floral aroma."},{name:"Mango",emoji:"🥭",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","curry","salad","juice"],description:"A tropical fruit with rich, sweet flesh perfect for both sweet and savory dishes."},{name:"Coconut",emoji:"🥥",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","bake","curry"],description:"A versatile fruit providing both meat and milk for various culinary uses."},{name:"Plums",emoji:"🫐",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["pie","bake","juice"],description:"Juicy, tart fruits that are often preserved or baked into pastries."},{name:"Cabbage",emoji:"🥬",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["steam","stir-fry","curry","salad","dumpling"],description:"A leafy green that forms the base of many hearty Air Nomad dishes."},{name:"Carrot",emoji:"🥕",rarity:"Common",category:"vegetable",flavorProfile:"sweet",isPlural:!1,suitability:["steam","stir-fry","curry","salad","dumpling","bake","juice"],description:"A sweet root vegetable that adds color and crunch to meals."},{name:"Bean Sprouts",emoji:"🌱",rarity:"Common",category:"vegetable",flavorProfile:"neutral",isPlural:!0,suitability:["steam","stir-fry","salad"],description:"Tender, crisp sprouts that add a fresh, clean flavor."},{name:"Onion",emoji:"🧅",rarity:"Common",category:"vegetable",flavorProfile:"pungent",isPlural:!1,suitability:["stir-fry","curry","dumpling","bake","pie"],description:"A foundational vegetable that adds savory depth to countless recipes."},{name:"Potato",emoji:"🥔",rarity:"Common",category:"vegetable",flavorProfile:"neutral",isPlural:!1,suitability:["steam","curry","bake","pie"],description:"A starchy, comforting staple grown in high-altitude temple gardens."},{name:"Tomato",emoji:"🍅",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["curry","salad","bake"],description:"A juicy, bright vegetable used in sauces, salads, and baked dishes."},{name:"Pickles",emoji:"🥒",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!0,suitability:["salad","garnish"],description:"Cucumbers preserved in a tangy brine, adding a sharp kick to meals."},{name:"Peppers",emoji:"🌶️",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!0,suitability:["steam","stir-fry","curry","salad"],description:"A colorful vegetable that adds a mild, sweet heat."},{name:"Oyster Mushrooms",emoji:"🍄",rarity:"Common",category:"fungi",flavorProfile:"umami",isPlural:!0,suitability:["steam","stir-fry","curry","pie"],description:"Delicate, fan-shaped mushrooms with a subtle, savory flavor."},{name:"Shiitake Mushrooms",emoji:"🍄",rarity:"Uncommon",category:"fungi",flavorProfile:"umami",isPlural:!0,suitability:["steam","stir-fry","curry","pie","dumpling"],description:"Rich, meaty mushrooms prized for their deep umami flavor and medicinal properties."},{name:"Light Vegetable Broth",emoji:"🥣",rarity:"Common",category:"base",flavorProfile:"savory",isPlural:!1,suitability:["curry","steam"],description:"A clear, savory broth made from mountain vegetables, used as a base for soups and stews."},{name:"Rice",emoji:"🍚",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["steam","curry","stir-fry","salad","bake"],description:"The staple grain of Air Nomad cuisine, symbolizing simplicity and sustenance."},{name:"Barley",emoji:"🌾",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["steam","curry","bake"],description:"A hearty grain that provides warmth and nourishment during cold mountain nights."},{name:"Flour",emoji:"🌾",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["bake","pie","dumpling"],description:"Finely milled grain used for baking breads, pies, and dumplings."},{name:"Mountain Noodles",emoji:"🍜",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!0,suitability:["steam","stir-fry","curry"],description:"Simple, elegant noodles made from mountain spring water and flour."},{name:"Tofu",emoji:"⬜",rarity:"Common",category:"protein",flavorProfile:"neutral",isPlural:!1,suitability:["steam","stir-fry","curry","bake","salad","dumpling"],description:"Versatile soybean curd that absorbs the flavors of any dish."},{name:"Mung Beans",emoji:"🫘",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!0,suitability:["curry","salad","steam"],description:"Small, nutritious legumes that sprout easily and provide essential protein."},{name:"Lentils of the Four Winds",emoji:"🫘",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!0,suitability:["curry","bake","pie"],description:"Sacred legumes said to be blessed by the four winds, providing strength and wisdom."},{name:"Temple Nuts",emoji:"🌰",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!0,suitability:["salad","bake","garnish"],description:"Nuts harvested from the sacred trees surrounding Air Nomad temples."},{name:"Garlic",emoji:"🧄",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["steam","stir-fry","curry","bake","pie","dumpling"],description:"A pungent bulb that adds depth and character to any dish."},{name:"Ginger",emoji:"🫚",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["steam","stir-fry","curry","bake","pie","dumpling","juice"],description:"A warming root that adds spice and aids digestion, valued for its medicinal properties."},{name:"Vanilla",emoji:"🍦",rarity:"Rare",category:"flavoring",flavorProfile:"sweet",isPlural:!1,suitability:["bake","pie","juice"],description:"A rare, aromatic spice that adds subtle sweetness and complexity to desserts."},{name:"Monk's Honey",emoji:"🍯",rarity:"Uncommon",category:"flavoring",flavorProfile:"sweet",isPlural:!1,suitability:["bake","pie","juice","garnish"],description:"Pure honey collected by Air Nomad monks, said to contain the essence of mountain flowers."},{name:"Bird's Eye Chili",emoji:"🌶️",rarity:"Rare",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["curry","stir-fry"],description:"A tiny, fiery chili that adds intense heat, used sparingly by the brave."}],l=i=>i[Math.floor(Math.random()*i.length)],f=(i,e)=>{const{cookingStyle:t}=e,{category:n,flavorProfile:r}=i,a=r==="sweet";return t.name==="Baking"||t.name==="Piemaking"?l(n==="protein"?["hearty","savory-baked","tender"]:n==="vegetable"?["golden-baked","roasted","tender"]:a?["sweetly baked","warm","caramelized","delicate"]:["hearty","flaky","savory"]):t.name==="Steaming"?l(a?["gently steamed","lightly sweet","infused"]:["delicate","tender-steamed","aromatic"]):t.name==="Light Sauté"?l(["crisp-tender","lightly sautéed","vibrant"]):t.name==="Simmering"?l(a?["gently simmered","fruit-infused","syrupy"]:["slow-simmered","rich","hearty","savory"]):t.name==="Minimalist Assembly"||t.name==="Juicing"?l(a?["fresh","juicy","naturally sweet","vibrant"]:["crisp","vibrant","garden-fresh","zesty"]):l(a?["sweet","delightful"]:["savory","hearty"])},b=[{tag:"ingredient_centric",text:i=>`At its heart, this dish celebrates the ${f(i.primaryIngredient,i)} flavor of ${i.primaryIngredient.name.toLowerCase()}`},{tag:"ingredient_centric",text:i=>`The experience begins with ${i.primaryIngredient.name.toLowerCase()}${i.secondaryIngredient?`, perfectly complemented by the essence of ${i.secondaryIngredient.name.toLowerCase()}`:", a simple and pure flavor experience"}`},{tag:"style_centric",text:i=>`${i.cookingStyle.name} brings out a unique harmony between the ingredients, creating a texture that is both satisfying and light`},{tag:"style_centric",text:i=>`Through the art of ${i.cookingStyle.name.toLowerCase()}, the ingredients meld into a single, delightful experience${i.secondaryIngredient?`, led by the ${f(i.primaryIngredient,i)} ${i.primaryIngredient.name.toLowerCase()}`:""}`},{tag:"theme_centric",text:i=>`In keeping with its '${i.theme}' theme, the preparation is simple yet profound, allowing the natural flavors to shine`},{tag:"theme_centric",text:i=>`This dish is a perfect reflection of the '${i.theme}' philosophy, emphasizing clarity and purity in every bite`}],A=[{tag:"tradition",text:i=>"An ancient recipe passed down through generations of monks, it is said that preparing this dish fosters a deep connection to the element of air."},{tag:"philosophy",text:i=>"The patterns made by the steam (or crust) are often used as a meditative focus, representing the transient and beautiful nature of life."},{tag:"legend",text:i=>"Legend says that Avatar Yangchen herself favored a similar dish, enjoying it after long sessions of meditation to reground herself."},{tag:"practical",text:i=>"Often prepared for young Air Acolytes, this meal teaches the importance of patience and finding joy in simple, wholesome things."}];class S{buildDescriptionSentence(e,t=[]){const n=b.filter(s=>!t.includes(s.tag)),r=l(n.length>0?n:b),a=r.text(e);return{sentence:a.charAt(0).toUpperCase()+a.slice(1)+".",usedTag:r.tag}}buildLoreSentence(e){return l(A).text(e)}}const u=i=>i[Math.floor(Math.random()*i.length)];class x{grammar;constructor(){this.grammar=new S}generateName(e){const{nameParts:t}=e.nationData,n=u(t.prefixes),r=u(t.middles),a=u(t.suffixes),{dishSubtype:s}=e.cookingStyle,{primaryIngredient:d}=e,o=(h=>h.name.includes("Lentils")?"Lentil":h.name.includes("Mung Beans")?"Mung Bean":h.name.includes("Nuts")?"Nut":h.name.split(" ")[0])(d),m=Math.random();return["Curry","Pie","Juice","Salad","Stir-fry"].includes(s)?m<.6?`${n} ${o} ${s}`:`${r} ${o} ${s}`:m<.4?`${n} ${o} ${a}`:m<.7?`${r} ${o} Medley`:`${n} ${r} Special`}generateDescription(e){let t=[];const{sentence:n,usedTag:r}=this.grammar.buildDescriptionSentence(e,t);t.push(r);const{sentence:a}=this.grammar.buildDescriptionSentence(e,t);return`${n} ${a}`}generateLore(e){return this.grammar.buildLoreSentence(e)}}const P={"main-course":{protein:1,vegetable:2,base:1,flavoring:1},"side-dish":{vegetable:2,flavoring:1},snack:{protein:1,vegetable:1},dessert:{fruit:2,base:1,flavoring:1},"soup-stew":{protein:1,vegetable:2,base:1,flavoring:1},salad:{vegetable:3,protein:1,garnish:1},beverage:{fruit:2,flavoring:1}},E={"main-course":["Baking","Steaming","Light Sauté","Simmering","Piemaking"],"side-dish":["Steaming","Light Sauté","Simmering","Baking"],snack:["Minimalist Assembly","Baking","Light Sauté"],dessert:["Baking","Piemaking","Minimalist Assembly"],"soup-stew":["Simmering"],salad:["Minimalist Assembly"],beverage:["Juicing"]};function D(i){const e=[...i];for(let t=e.length-1;t>0;t--){const n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}return e}const y=i=>i[Math.floor(Math.random()*i.length)],L=(i,e)=>i.length===0?[]:D(i).slice(0,e);class B{textGenerator;ingredients;cookingStyles;nationData;constructor(e){this.textGenerator=new x,this.nationData=k,this.ingredients=C,this.cookingStyles=w}generateDish(e){const t=this.createLinkedContext(e),n=this.textGenerator.generateName(t),r=this.textGenerator.generateDescription(t),a=this.textGenerator.generateLore(t),s=this.nationData.dishEmojis[e]||this.nationData.dishEmojis.snack,d=y(s);return{name:n,description:r,lore:a,nation:this.nationData.nation,dishType:e,emoji:d,ingredients:t.allIngredients,cookingStyle:t.cookingStyle}}createLinkedContext(e){const t=E[e];if(!t||t.length===0)throw new Error(`No valid cooking styles defined for dish type: ${e}`);const n=this.cookingStyles.filter(d=>t.includes(d.name)),r=y(n),a=this.selectIngredients(e,r);if(a.length<2)throw new Error(`Could not select enough suitable ingredients for dish type: ${e} with style ${r.name}.`);return{theme:y(["Humble & Meditative","Ceremonial & Celebratory","Invigorating & Playful","Ancient & Traditional"]),primaryIngredient:a[0],secondaryIngredient:a[1],cookingStyle:r,allIngredients:a,nationData:this.nationData}}selectIngredients(e,t){const n=t.dishSubtype.toLowerCase(),r=P[e];if(!r)throw new Error(`No recipe blueprint found for dish type: ${e}`);const a=e==="dessert"||e==="beverage";let s=this.ingredients.filter(o=>o.suitability.includes(n));a?s=s.filter(o=>o.flavorProfile==="sweet"):(s=s.filter(o=>["savory","neutral","pungent","umami"].includes(o.flavorProfile)),e==="soup-stew"&&(s=s.filter(o=>o.name.includes("Broth")||o.category!=="base")));let d=[],c=new Set;for(const o in r){const m=o,h=r[m],F=s.filter(g=>g.category===m&&!c.has(g.name));L(F,h).forEach(g=>{d.push(g),c.add(g.name)})}return d}}const v={"air-nomads":{light:{"--theme-primary":"#D97706","--theme-secondary":"#FBBF24","--theme-accent":"#38BDF8","--theme-gradient-background":"linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%)","--theme-text-primary":"#422006","--theme-text-secondary":"#78350F","--theme-bg-card":"rgba(255, 251, 235, 0.9)","--theme-border-primary":"rgba(217, 119, 6, 0.2)","--dropdown-arrow-color":"#D97706","--theme-bg-primary":"linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%)","--theme-bg-secondary":"#FEF3C7","--theme-bg-overlay":"rgba(255, 251, 235, 0.95)","--theme-text-accent":"#38BDF8","--theme-border-secondary":"#FDE68A","--theme-shadow-light":"0 2px 8px rgba(217, 119, 6, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(217, 119, 6, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(217, 119, 6, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #FEF3C7 0%, #FDE68A 100%)","--theme-gradient-button":"linear-gradient(45deg, #D97706, #B45309)"},dark:{"--theme-primary":"#FBBF24","--theme-secondary":"#F87171","--theme-accent":"#67E8F9","--theme-gradient-background":"linear-gradient(135deg, #4A2B0F 0%, #2A1C0A 100%)","--theme-text-primary":"#FEF3C7","--theme-text-secondary":"#FDE68A","--theme-bg-card":"rgba(42, 28, 10, 0.9)","--theme-border-primary":"rgba(251, 191, 36, 0.3)","--dropdown-arrow-color":"#FBBF24","--theme-bg-primary":"linear-gradient(135deg, #4A2B0F 0%, #2A1C0A 100%)","--theme-bg-secondary":"#2A1C0A","--theme-bg-overlay":"rgba(42, 28, 10, 0.95)","--theme-text-accent":"#67E8F9","--theme-border-secondary":"#4A2B0F","--theme-shadow-light":"0 2px 8px rgba(251, 191, 36, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(251, 191, 36, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(251, 191, 36, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #2A1C0A 0%, #4A2B0F 100%)","--theme-gradient-button":"linear-gradient(45deg, #FBBF24, #F59E0B)"}},"water-tribe":{light:{"--theme-primary":"#0E7490","--theme-secondary":"#67E8F9","--theme-accent":"#F0F9FF","--theme-gradient-background":"linear-gradient(135deg, #E0F2FE 0%, #A5F3FC 100%)","--theme-text-primary":"#164E63","--theme-text-secondary":"#0891B2","--theme-bg-card":"rgba(240, 249, 255, 0.9)","--theme-border-primary":"rgba(14, 116, 144, 0.2)","--dropdown-arrow-color":"#0E7490","--theme-bg-primary":"linear-gradient(135deg, #E0F2FE 0%, #A5F3FC 100%)","--theme-bg-secondary":"#E0F2FE","--theme-bg-overlay":"rgba(240, 249, 255, 0.95)","--theme-text-accent":"#F0F9FF","--theme-border-secondary":"#A5F3FC","--theme-shadow-light":"0 2px 8px rgba(14, 116, 144, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(14, 116, 144, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(14, 116, 144, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #E0F2FE 0%, #A5F3FC 100%)","--theme-gradient-button":"linear-gradient(45deg, #0E7490, #0C4A6E)"},dark:{"--theme-primary":"#67E8F9","--theme-secondary":"#A5F3FC","--theme-accent":"#F0F9FF","--theme-gradient-background":"linear-gradient(135deg, #1F2937 0%, #082F49 100%)","--theme-text-primary":"#F0F9FF","--theme-text-secondary":"#A5F3FC","--theme-bg-card":"rgba(15, 23, 42, 0.9)","--theme-border-primary":"rgba(103, 232, 249, 0.3)","--dropdown-arrow-color":"#67E8F9","--theme-bg-primary":"linear-gradient(135deg, #1F2937 0%, #082F49 100%)","--theme-bg-secondary":"#082F49","--theme-bg-overlay":"rgba(15, 23, 42, 0.95)","--theme-text-accent":"#F0F9FF","--theme-border-secondary":"#1F2937","--theme-shadow-light":"0 2px 8px rgba(103, 232, 249, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(103, 232, 249, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(103, 232, 249, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #082F49 0%, #1F2937 100%)","--theme-gradient-button":"linear-gradient(45deg, #67E8F9, #06B6D4)"}},"earth-kingdom":{light:{"--theme-primary":"#16A34A","--theme-secondary":"#FACC15","--theme-accent":"#A16207","--theme-gradient-background":"linear-gradient(135deg, #F0FDF4 0%, #D1FAE5 100%)","--theme-text-primary":"#14532D","--theme-text-secondary":"#15803D","--theme-bg-card":"rgba(240, 253, 244, 0.9)","--theme-border-primary":"rgba(22, 163, 74, 0.2)","--dropdown-arrow-color":"#16A34A","--theme-bg-primary":"linear-gradient(135deg, #F0FDF4 0%, #D1FAE5 100%)","--theme-bg-secondary":"#F0FDF4","--theme-bg-overlay":"rgba(240, 253, 244, 0.95)","--theme-text-accent":"#A16207","--theme-border-secondary":"#D1FAE5","--theme-shadow-light":"0 2px 8px rgba(22, 163, 74, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(22, 163, 74, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(22, 163, 74, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #F0FDF4 0%, #D1FAE5 100%)","--theme-gradient-button":"linear-gradient(45deg, #16A34A, #15803D)"},dark:{"--theme-primary":"#4ADE80","--theme-secondary":"#FDE047","--theme-accent":"#FEF08A","--theme-gradient-background":"linear-gradient(135deg, #1C1917 0%, #172513 100%)","--theme-text-primary":"#D1FAE5","--theme-text-secondary":"#A7F3D0","--theme-bg-card":"rgba(23, 37, 19, 0.9)","--theme-border-primary":"rgba(74, 222, 128, 0.3)","--dropdown-arrow-color":"#4ADE80","--theme-bg-primary":"linear-gradient(135deg, #1C1917 0%, #172513 100%)","--theme-bg-secondary":"#172513","--theme-bg-overlay":"rgba(23, 37, 19, 0.95)","--theme-text-accent":"#FEF08A","--theme-border-secondary":"#1C1917","--theme-shadow-light":"0 2px 8px rgba(74, 222, 128, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(74, 222, 128, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(74, 222, 128, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #172513 0%, #1C1917 100%)","--theme-gradient-button":"linear-gradient(45deg, #4ADE80, #22C55E)"}},"fire-nation":{light:{"--theme-primary":"#DC2626","--theme-secondary":"#F97316","--theme-accent":"#44403C","--theme-gradient-background":"linear-gradient(135deg, #FEF2F2 0%, #FDBA74 100%)","--theme-text-primary":"#450A0A","--theme-text-secondary":"#991B1B","--theme-bg-card":"rgba(254, 242, 242, 0.9)","--theme-border-primary":"rgba(220, 38, 38, 0.2)","--dropdown-arrow-color":"#DC2626","--theme-bg-primary":"linear-gradient(135deg, #FEF2F2 0%, #FDBA74 100%)","--theme-bg-secondary":"#FEF2F2","--theme-bg-overlay":"rgba(254, 242, 242, 0.95)","--theme-text-accent":"#44403C","--theme-border-secondary":"#FDBA74","--theme-shadow-light":"0 2px 8px rgba(220, 38, 38, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(220, 38, 38, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(220, 38, 38, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #FEF2F2 0%, #FDBA74 100%)","--theme-gradient-button":"linear-gradient(45deg, #DC2626, #B91C1C)"},dark:{"--theme-primary":"#F87171","--theme-secondary":"#FB923C","--theme-accent":"#FCD34D","--theme-gradient-background":"linear-gradient(135deg, #171717 0%, #440a0a 100%)","--theme-text-primary":"#FEE2E2","--theme-text-secondary":"#FECACA","--theme-bg-card":"rgba(30, 7, 7, 0.9)","--theme-border-primary":"rgba(248, 113, 113, 0.3)","--dropdown-arrow-color":"#F87171","--theme-bg-primary":"linear-gradient(135deg, #171717 0%, #440a0a 100%)","--theme-bg-secondary":"#440a0a","--theme-bg-overlay":"rgba(30, 7, 7, 0.95)","--theme-text-accent":"#FCD34D","--theme-border-secondary":"#171717","--theme-shadow-light":"0 2px 8px rgba(248, 113, 113, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(248, 113, 113, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(248, 113, 113, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #440a0a 0%, #171717 100%)","--theme-gradient-button":"linear-gradient(45deg, #F87171, #EF4444)"}}};class p{static currentNation="air-nomads";static currentMode="light";static initialize(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.currentMode=e?"dark":"light",this.applyCurrentTheme()}static setNation(e){this.currentNation=e,this.applyCurrentTheme()}static toggleLightDark(){this.currentMode=this.currentMode==="light"?"dark":"light",this.applyCurrentTheme()}static applyCurrentTheme(){const e=document.documentElement,t=document.body,r=(v[this.currentNation]||v["air-nomads"])[this.currentMode];for(const[a,s]of Object.entries(r))e.style.setProperty(a,s);t.className="",t.classList.add(`theme-${this.currentNation}`),t.dataset.theme=this.currentMode}}class j{static generateButton;static dishContainer;static nationSelector;static dishTypeSelector;static decorativeSymbols;static themeToggleButton;static selectedNation="air-nomads";static selectedDishType="main-course";static initialize(){if(this.generateButton=document.getElementById("generate-button"),this.dishContainer=document.getElementById("dish-container"),this.nationSelector=document.getElementById("nation-selector"),this.dishTypeSelector=document.getElementById("dish-type-selector"),this.decorativeSymbols=document.querySelectorAll(".decorative-symbol"),this.themeToggleButton=document.getElementById("theme-toggle"),!this.generateButton||!this.dishContainer||!this.nationSelector||!this.dishTypeSelector||!this.themeToggleButton){console.error("A critical UI element could not be found. Aborting initialization.");return}this.attachEventListeners(),this.setupCustomSelect(this.nationSelector,this.handleNationChange.bind(this)),this.setupCustomSelect(this.dishTypeSelector,this.handleDishTypeChange.bind(this)),this.updateThemeUI(),this.dishContainer.innerHTML=`<div class="dish-display empty">Select your options and click 'Generate' to create a dish!</div>`}static attachEventListeners(){this.generateButton.addEventListener("click",this.handleGenerateClick.bind(this)),this.themeToggleButton.addEventListener("click",()=>{p.toggleLightDark(),this.updateThemeUI()})}static updateThemeUI(){const e=document.body.dataset.theme==="dark";this.themeToggleButton.textContent=e?"☀️":"🌙"}static handleGenerateClick(){this.dishContainer.innerHTML='<div class="dish-display generating">The spirits are cooking... Please wait.</div>',this.generateButton.disabled=!0,setTimeout(()=>{try{const t=new B(this.selectedNation).generateDish(this.selectedDishType);this.renderDish(t)}catch(e){console.error("Failed to generate dish:",e),this.renderError(e)}finally{this.generateButton.disabled=!1}},500)}static handleNationChange(e){this.selectedNation=e,p.setNation(this.selectedNation),this.updateDecorativeSymbols(),console.log(`Nation changed to: ${this.selectedNation}`)}static handleDishTypeChange(e){this.selectedDishType=e,console.log(`Dish type changed to: ${this.selectedDishType}`)}static updateDecorativeSymbols(){const t=`/assets/${{"air-nomads":"air_nation-B2k_nS_3.png","water-tribe":"water_nation-B7rWlJEQ.png","earth-kingdom":"earth_nation-C3FaE_j9.png","fire-nation":"fire_nation-BClEM4ky.png"}[this.selectedNation]}`,n=this.selectedNation.replace("-"," ").replace(/\b\w/g,r=>r.toUpperCase());this.decorativeSymbols.forEach(r=>{r.src=t,r.alt=n})}static renderDish(e){const t=e.ingredients.map(r=>this.renderIngredient(r)).join(""),n=`
      <div class="dish-display">
        <h2><span class="dish-emoji">${e.emoji}</span> ${e.name}</h2>
        <div class="dish-sections">
          <div class="description-section">
            <h3>Description</h3>
            <p class="description">${e.description}</p>
          </div>
          <div class="lore-section">
            <h3>Lore</h3>
            <p class="lore">${e.lore}</p>
          </div>
        </div>
        <div class="dish-details">
          <div class="ingredients">
            <h3>Ingredients</h3>
            <ul>
              ${t}
            </ul>
          </div>
          <div class="technique">
            <h3>Cooking Style: ${e.cookingStyle.name}</h3>
            <p>${e.cookingStyle.description}</p>
          </div>
        </div>
      </div>
    `;this.dishContainer.innerHTML=n}static renderIngredient(e){return`
          <li class="ingredient-item ${`rarity-${e.rarity.toLowerCase()}`}">
              <span class="ingredient-emoji">${e.emoji}</span>
              <span class="ingredient-name">${e.name}</span>
              <span class="ingredient-rarity">${e.rarity.toUpperCase()}</span>
          </li>
      `}static renderError(e){const t=`
        <div class="error-message">
            <h3>A Storm in the Kitchen!</h3>
            <p>It seems the generator encountered an issue. The spirits might be a bit unbalanced today.</p>
            <small>Error: ${e.message}</small>
            <button class="retry-button" onclick="document.getElementById('generate-button').click()">Try Again</button>
        </div>
    `;this.dishContainer.innerHTML=t}static setupCustomSelect(e,t){const n=e.querySelector(".selected-option"),r=e.querySelector(".dropdown-options"),a=Array.from(r.querySelectorAll(".option"));!n||!r||(n.addEventListener("click",s=>{s.stopPropagation();const d=e.classList.contains("active");document.querySelectorAll(".custom-nation-selector, .custom-dish-type-selector").forEach(c=>{c.classList.remove("active"),c.querySelector(".selected-option")?.classList.remove("open"),c.querySelector(".dropdown-options")?.classList.remove("show")}),d||(e.classList.add("active"),n.classList.add("open"),r.classList.add("show"))}),a.forEach(s=>{s.addEventListener("click",d=>{d.stopPropagation();const c=s.dataset.value;if(c===e.dataset.value){e.classList.remove("active"),n.classList.remove("open"),r.classList.remove("show");return}e.dataset.value=c;const o=n.querySelector(".selected-option-content");o.innerHTML=s.innerHTML,e.classList.remove("active"),n.classList.remove("open"),r.classList.remove("show"),t(c)})}),document.addEventListener("click",()=>{document.querySelectorAll(".custom-nation-selector, .custom-dish-type-selector").forEach(s=>{s.classList.remove("active"),s.querySelector(".selected-option")?.classList.remove("open"),s.querySelector(".dropdown-options")?.classList.remove("show")})}))}}document.addEventListener("DOMContentLoaded",()=>{p.initialize(),j.initialize(),console.log("Avatar Culinary Dish Generator Initialized!")});
