(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))a(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&a(s)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();const b=[{name:"Baking",dishSubtype:"Bake",description:"The monks are skilled bakers, creating everything from fruit pies to fluffy buns in their stone ovens, often using airbending to ensure even cooking."},{name:"Steaming",dishSubtype:"Steam",description:"A gentle cooking method using aromatic steam to preserve the natural, subtle flavors and textures of vegetables and tofu."},{name:"Light Sauté",dishSubtype:"Stir-fry",description:"A quick stir in a hot wok with minimal oil, keeping vegetables crisp and vibrant while respecting their essence."},{name:"Simmering",dishSubtype:"Curry",description:"A slow, gentle cooking in liquid to meld flavors, perfect for creating rich curries and broths."},{name:"Piemaking",dishSubtype:"Pie",description:"A beloved pastime, creating savory or sweet pies with flaky, air-puffed crusts."},{name:"Minimalist Assembly",dishSubtype:"Salad",description:"A philosophy of using very little cooking, allowing the pure, inherent taste of the raw ingredients to be the focus of the meal."},{name:"Juicing",dishSubtype:"Juice",description:"A simple process of extracting the vibrant, raw essence of fruits and some vegetables into a refreshing drink."}],v={nation:"air-nomads",dishEmojis:{"main-course":["🍲","🧆","🥘"],"side-dish":["🍚","🥣"],snack:["🥠","🥟"],dessert:["🥧","🍮","🥮"],"soup-stew":["🥣","🍲"],salad:["🥗","🥬"],beverage:["🧋","🍵","🥤"]},nameParts:{prefixes:["Soaring","Whispering","Monk Gyatso's","Meditative","Peaceful","Sky Temple","Four Winds","Silent"],middles:["Wind","Cloud","Spirit","Lotus","Mountain","Sunrise","Treetop","Pilgrim's"],suffixes:["Surprise","Delight","Special","Medley","Festival"]}},w=[{name:"Apple",emoji:"🍎",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","bake","salad","juice"],description:"A crisp, versatile fruit, often used in both pies and refreshing juices."},{name:"Banana",emoji:"🍌",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","bake","juice"],description:"A soft, sweet fruit that provides quick energy for long meditation sessions."},{name:"Moon Peach",emoji:"🍑",rarity:"Rare",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","salad","garnish"],description:"A rare, mystical fruit said to bloom only under the full moon."},{name:"Lychee Nuts",emoji:"🥭",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["pie","salad","juice","garnish"],description:"Small, fragrant fruits with a delicate sweetness and floral aroma."},{name:"Mango",emoji:"🥭",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","curry","salad","juice"],description:"A tropical fruit with rich, sweet flesh perfect for both sweet and savory dishes."},{name:"Coconut",emoji:"🥥",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["pie","bake","curry"],description:"A versatile fruit providing both meat and milk for various culinary uses."},{name:"Plums",emoji:"🫐",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["pie","bake","juice"],description:"Juicy, tart fruits that are often preserved or baked into pastries."},{name:"Cabbage",emoji:"🥬",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["steam","stir-fry","curry","salad","dumpling"],description:"A leafy green that forms the base of many hearty Air Nomad dishes."},{name:"Carrot",emoji:"🥕",rarity:"Common",category:"vegetable",flavorProfile:"sweet",isPlural:!1,suitability:["steam","stir-fry","curry","salad","dumpling","bake","juice"],description:"A sweet root vegetable that adds color and crunch to meals."},{name:"Bean Sprouts",emoji:"🌱",rarity:"Common",category:"vegetable",flavorProfile:"neutral",isPlural:!0,suitability:["steam","stir-fry","salad"],description:"Tender, crisp sprouts that add a fresh, clean flavor."},{name:"Onion",emoji:"🧅",rarity:"Common",category:"vegetable",flavorProfile:"pungent",isPlural:!1,suitability:["stir-fry","curry","dumpling","bake","pie"],description:"A foundational vegetable that adds savory depth to countless recipes."},{name:"Potato",emoji:"🥔",rarity:"Common",category:"vegetable",flavorProfile:"neutral",isPlural:!1,suitability:["steam","curry","bake","pie"],description:"A starchy, comforting staple grown in high-altitude temple gardens."},{name:"Tomato",emoji:"🍅",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["curry","salad","bake"],description:"A juicy, bright vegetable used in sauces, salads, and baked dishes."},{name:"Pickles",emoji:"🥒",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!0,suitability:["salad","garnish"],description:"Cucumbers preserved in a tangy brine, adding a sharp kick to meals."},{name:"Peppers",emoji:"🌶️",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!0,suitability:["steam","stir-fry","curry","salad"],description:"A colorful vegetable that adds a mild, sweet heat."},{name:"Oyster Mushrooms",emoji:"🍄",rarity:"Common",category:"fungi",flavorProfile:"umami",isPlural:!0,suitability:["steam","stir-fry","curry","pie"],description:"Delicate, fan-shaped mushrooms with a subtle, savory flavor."},{name:"Shiitake Mushrooms",emoji:"🍄",rarity:"Uncommon",category:"fungi",flavorProfile:"umami",isPlural:!0,suitability:["steam","stir-fry","curry","pie","dumpling"],description:"Rich, meaty mushrooms prized for their deep umami flavor and medicinal properties."},{name:"Light Vegetable Broth",emoji:"🥣",rarity:"Common",category:"base",flavorProfile:"savory",isPlural:!1,suitability:["curry","steam"],description:"A clear, savory broth made from mountain vegetables, used as a base for soups and stews."},{name:"Rice",emoji:"🍚",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["steam","curry","stir-fry","salad","bake"],description:"The staple grain of Air Nomad cuisine, symbolizing simplicity and sustenance."},{name:"Barley",emoji:"🌾",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["steam","curry","bake"],description:"A hearty grain that provides warmth and nourishment during cold mountain nights."},{name:"Flour",emoji:"🌾",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["bake","pie","dumpling"],description:"Finely milled grain used for baking breads, pies, and dumplings."},{name:"Mountain Noodles",emoji:"🍜",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!0,suitability:["steam","stir-fry","curry"],description:"Simple, elegant noodles made from mountain spring water and flour."},{name:"Tofu",emoji:"⬜",rarity:"Common",category:"protein",flavorProfile:"neutral",isPlural:!1,suitability:["steam","stir-fry","curry","bake","salad","dumpling"],description:"Versatile soybean curd that absorbs the flavors of any dish."},{name:"Mung Beans",emoji:"🫘",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!0,suitability:["curry","salad","steam"],description:"Small, nutritious legumes that sprout easily and provide essential protein."},{name:"Lentils of the Four Winds",emoji:"🫘",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!0,suitability:["curry","bake","pie"],description:"Sacred legumes said to be blessed by the four winds, providing strength and wisdom."},{name:"Temple Nuts",emoji:"🌰",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!0,suitability:["salad","bake","garnish"],description:"Nuts harvested from the sacred trees surrounding Air Nomad temples."},{name:"Garlic",emoji:"🧄",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["steam","stir-fry","curry","bake","pie","dumpling"],description:"A pungent bulb that adds depth and character to any dish."},{name:"Ginger",emoji:"🫚",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["steam","stir-fry","curry","bake","pie","dumpling","juice"],description:"A warming root that adds spice and aids digestion, valued for its medicinal properties."},{name:"Vanilla",emoji:"🍦",rarity:"Rare",category:"flavoring",flavorProfile:"sweet",isPlural:!1,suitability:["bake","pie","juice"],description:"A rare, aromatic spice that adds subtle sweetness and complexity to desserts."},{name:"Monk's Honey",emoji:"🍯",rarity:"Uncommon",category:"flavoring",flavorProfile:"sweet",isPlural:!1,suitability:["bake","pie","juice","garnish"],description:"Pure honey collected by Air Nomad monks, said to contain the essence of mountain flowers."},{name:"Bird's Eye Chili",emoji:"🌶️",rarity:"Rare",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["curry","stir-fry"],description:"A tiny, fiery chili that adds intense heat, used sparingly by the brave."}],S=[{name:"Stewing",dishSubtype:"Stew",description:"A slow simmering of ingredients in a single pot, creating a hearty, communal meal to share against the cold."},{name:"Poaching",dishSubtype:"Poach",description:"A gentle cooking method in seasoned sea-broth, preserving the delicate texture of fish and sea-prunes."},{name:"Grilling",dishSubtype:"Grill",description:"Cooking over an open flame, fueled by whale oil, giving a smoky char to meats and vegetables."},{name:"Curing",dishSubtype:"Cure",description:"A preservation technique using sea salt and tundra herbs to create savory, long-lasting dried meats and fish."},{name:"Freezing",dishSubtype:"Freeze",description:"Using waterbending to flash-freeze sweet creams and berries into delightful, icy desserts."},{name:"Boiling",dishSubtype:"Boil",description:"A simple and efficient method to cook roots, meats, and kelp in bubbling water."},{name:"Brewing",dishSubtype:"Brew",description:"Steeping rare herbs and flowers from the tundra or Spirit Oasis to create warming or spiritual teas."},{name:"Minimalist Assembly",dishSubtype:"Salad",description:"A simple preparation method for fresh seaweed and tundra greens, allowing their natural flavors to shine."}],C={nation:"water-tribe",dishEmojis:{"main-course":["🐟","🍢","🦀"],"side-dish":["🍜","🌿","🥣"],snack:["🥩","🍤"],dessert:["🍧","🧊","🥮"],"soup-stew":["🍲","🥣"],salad:["🌿","🥗"],beverage:["🧉","🍵"]},nameParts:{prefixes:["Arctic","Southern","Moon Spirit's","Tidal","Glacial","Hunter's","Icy","Deep Sea"],middles:["Wave","Ice","Seal","Tundra","Spirit","Pearl","Coral","Midnight"],suffixes:["Feast","Catch","Bounty","Stew","Delight","Broth","Jerky"]}},A=[{name:"Sea Prunes",emoji:"🐙",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!0,suitability:["stew","poach","boil"],description:"A staple of the Southern Water Tribe, these small, tender cephalopods are a primary source of protein."},{name:"Arctic Hen",emoji:"🐧",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["stew","grill"],description:"A flightless bird whose meat is rich and hearty, perfect for warming stews."},{name:"Tiger Seal",emoji:"🦭",rarity:"Uncommon",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["stew","grill","cure"],description:"A prized catch, providing tough but flavorful meat that is often cured for long voyages."},{name:"Moon-gilled Salmon",emoji:"🐟",rarity:"Rare",category:"protein",flavorProfile:"umami",isPlural:!1,suitability:["poach","grill"],description:"A beautiful fish whose gills shimmer with moonlight, known for its delicate, buttery flavor."},{name:"Glacier Shrimp",emoji:"🦐",rarity:"Common",category:"protein",flavorProfile:"sweet",isPlural:!0,suitability:["poach","stew","boil"],description:"Small, sweet shrimp found in the frigid waters beneath glaciers, sometimes dried into powder."},{name:"Giant Sea Crab",emoji:"🦀",rarity:"Rare",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["stew","boil"],description:"A delicacy of the Northern Water Tribe, considered by many to be the most sought-after food in the Northern Sea."},{name:"Platypus Bear",emoji:"🐻",rarity:"Legendary",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["stew","grill"],description:"An enormous and dangerous beast, served whole only at the grandest of Northern Water Tribe feasts."},{name:"Squid",emoji:"🦑",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["stew","boil"],description:"A common catch used in many popular soups and stews across both tribes."},{name:"Kelp",emoji:"🌿",rarity:"Common",category:"vegetable",flavorProfile:"umami",isPlural:!1,suitability:["poach","stew","boil","salad"],description:"Versatile sea-vegetable used for noodles, wraps, and seasoning."},{name:"Sea Salt Root",emoji:"🥔",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["stew","grill","boil"],description:"A starchy root vegetable that grows in coastal soil, naturally infused with a mild saltiness."},{name:"Tundra Berries",emoji:"🫐",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!0,suitability:["stew","garnish","cure"],description:"Hardy, tart berries that add a burst of acidity to rich, savory stews."},{name:"Ice-crystal Lettuce",emoji:"🥬",rarity:"Uncommon",category:"vegetable",flavorProfile:"neutral",isPlural:!1,suitability:["salad"],description:"A crisp, pale lettuce that thrives in the cold, with a texture like biting into fresh snow."},{name:"Dandelion Greens",emoji:"🌱",rarity:"Uncommon",category:"vegetable",flavorProfile:"savory",isPlural:!0,suitability:["garnish","salad"],description:"Bitter greens used as a garnish to cut through the richness of blubber and fatty meats."},{name:"Taro Root",emoji:"🍠",rarity:"Rare",category:"vegetable",flavorProfile:"sweet",isPlural:!1,suitability:["stew","boil","freeze"],description:"A sweet, starchy root grown in the Spirit Oasis, used to make a paste for mooncakes."},{name:"Seaweed Noodles",emoji:"🍜",rarity:"Common",category:"base",flavorProfile:"umami",isPlural:!0,suitability:["stew","boil","poach"],description:"Slippery, savory noodles made from processed kelp, a staple in brothy dishes."},{name:"Pearl-grain Rice",emoji:"🍚",rarity:"Uncommon",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["stew","poach","boil"],description:"A short-grain, sticky rice traded from the Earth Kingdom, considered a luxury."},{name:"Thick Blubber Broth",emoji:"🥣",rarity:"Common",category:"base",flavorProfile:"savory",isPlural:!1,suitability:["stew","poach"],description:"A rich, high-energy broth made from rendered seal blubber, essential for survival."},{name:"Imported Flour",emoji:"🌾",rarity:"Uncommon",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["bake"],description:"A luxury from the Earth Kingdom, used to make special breads and cookies after the War."},{name:"Snow Plums",emoji:"🍑",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["freeze","brew"],description:"Sweet, pale plums that have a unique, icy crunch when eaten raw."},{name:"Polar Berries",emoji:"🍓",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["freeze","brew"],description:"Extremely sweet berries used to make frozen desserts and sweet drinks."},{name:"Arctic Cloudberries",emoji:"🫐",rarity:"Rare",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["freeze","brew"],description:"Golden-orange berries that grow close to the ground, prized for their unique tart-sweet flavor."},{name:"Sweetened Seal Milk",emoji:"🥛",rarity:"Common",category:"dairy",flavorProfile:"sweet",isPlural:!1,suitability:["freeze","brew"],description:"Rich, creamy milk used as the base for most Water Tribe frozen desserts."},{name:"Glacier Salt",emoji:"🧂",rarity:"Common",category:"flavoring",flavorProfile:"savory",isPlural:!1,suitability:["poach","stew","grill","cure","boil"],description:"Coarse salt harvested from ancient glacial deposits."},{name:"Tundra Herbs",emoji:"🌿",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!0,suitability:["stew","grill","cure"],description:"A mix of hardy, aromatic herbs that grow on the sparse tundra."},{name:"Whale Oil",emoji:"💧",rarity:"Common",category:"flavoring",flavorProfile:"umami",isPlural:!1,suitability:["grill","stew"],description:"A rich, savory oil used for cooking and fueling lamps, defining the smoky taste of grilled foods."},{name:"Butterfly Pea Flower",emoji:"🌸",rarity:"Legendary",category:"flavoring",flavorProfile:"sweet",isPlural:!1,suitability:["brew"],description:"A rare flower from the Spirit Oasis, its extract is used in spiritual teas, turning them a beautiful blue."},{name:"Glacier Mint",emoji:"🍃",rarity:"Uncommon",category:"garnish",flavorProfile:"sweet",isPlural:!1,suitability:["freeze","garnish","brew"],description:"A potent mint that provides a cooling sensation, often used in drinks and desserts."}],F=[{name:"Roasting",dishSubtype:"Roast",description:"A slow-cooking method using the dry, powerful heat of an earth or stone oven to tenderize meats and vegetables."},{name:"Stir-frying",dishSubtype:"Stir-fry",description:"A fast, high-heat technique from the streets of Ba Sing Se, tossing ingredients in a hot wok with savory sauces."},{name:"Braising",dishSubtype:"Braise",description:"A combination method of searing ingredients before simmering them slowly in a flavorful liquid, resulting in incredibly tender dishes."},{name:"Dumpling Making",dishSubtype:"Dumpling",description:"The intricate art of wrapping savory fillings in a delicate dough, which can then be steamed, boiled, or pan-fried."},{name:"Baking",dishSubtype:"Bake",description:"Used to create a vast array of goods, from simple breads for travelers to the elaborate cakes and tarts of the Upper Ring."},{name:"Congee Making",dishSubtype:"Congee",description:"A slow, patient simmering of rice in a large amount of water, creating a thick, comforting porridge known as Jook."},{name:"Pickling",dishSubtype:"Pickle",description:"A preservation method using salt and vinegar to create tangy, crisp vegetables that last for seasons."},{name:"Steaming",dishSubtype:"Steam",description:"A gentle method used to cook delicate fish, vegetables, and filled buns, preserving their natural texture and flavor."}],j={nation:"earth-kingdom",dishEmojis:{"main-course":["🍖","🥡","🍚"],"side-dish":["🥬","🥦","🥢"],snack:["🥟","🥠","🍢"],dessert:["🥮","🍡","🍮"],"soup-stew":["🍲","🥣"],salad:["🥗","🥒"],beverage:["🫖","🍵"]},nameParts:{prefixes:["Ba Sing Se","Omashu","Kyoshi","Jade","Earthen","Sturdy","Golden","Granite"],middles:["Wall","Rock","Badger-mole","Crystal","Ginseng","Rice","Merchant's","Farmer's"],suffixes:["Feast","Special","Stir-fry","Dumpling","Delight","Bao","Jook"]}},x=[{name:"Pork Belly",emoji:"🥓",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["roast","braise","stir-fry"],description:"A rich, fatty cut of meat, often slow-braised until it is meltingly tender."},{name:"Chicken",emoji:"🍗",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["roast","braise","stir-fry","congee"],description:"A versatile meat found on farms across the kingdom, used in countless dishes."},{name:"Ground Meat",emoji:"🥩",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["dumpling","stir-fry"],description:"A mixture of seasoned ground meats, perfect for filling dumplings and bao."},{name:"River Fish",emoji:"🐟",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["braise","stir-fry","steam"],description:"Freshwater fish from the kingdom's many rivers, often braised with ginger and soy."},{name:"Kyoshi Elephant Koi",emoji:"🎏",rarity:"Legendary",category:"protein",flavorProfile:"umami",isPlural:!1,suitability:["roast","braise","steam"],description:"A massive, revered fish from Kyoshi Island, its seared flesh is a gourmet delicacy."},{name:"Duck",emoji:"🦆",rarity:"Uncommon",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["roast","braise"],description:"Often roasted whole until the skin is crisp, a celebratory dish in Ba Sing Se."},{name:"Platypus Bear Egg",emoji:"🥚",rarity:"Rare",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["congee","stir-fry"],description:"An enormous egg with a rich yolk, large enough to be a meal in itself."},{name:"Tofu",emoji:"⬜",rarity:"Common",category:"protein",flavorProfile:"neutral",isPlural:!1,suitability:["stir-fry","braise","dumpling","congee"],description:"Made from soybeans, a versatile protein that absorbs the flavor of the sauces it's cooked in."},{name:"Bok Choy",emoji:"🥬",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["stir-fry","braise","dumpling","steam"],description:"A crisp, leafy green with a mild, sweet flavor, a staple in stir-fries."},{name:"Taro Root",emoji:"🍠",rarity:"Common",category:"vegetable",flavorProfile:"neutral",isPlural:!1,suitability:["roast","braise","congee","bake"],description:"A starchy root vegetable, providing a hearty and satisfying element to any meal."},{name:"Bamboo Shoots",emoji:"🎋",rarity:"Common",category:"vegetable",flavorProfile:"neutral",isPlural:!0,suitability:["stir-fry","braise","dumpling"],description:"Young, tender shoots with a crisp texture and delicate flavor."},{name:"Scallions",emoji:"🌱",rarity:"Common",category:"vegetable",flavorProfile:"pungent",isPlural:!0,suitability:["stir-fry","dumpling","congee","garnish"],description:"A key aromatic, adding a sharp, fresh onion flavor to everything it touches."},{name:"Jicama",emoji:"🥔",rarity:"Uncommon",category:"vegetable",flavorProfile:"sweet",isPlural:!1,suitability:["stir-fry","salad"],description:"A crunchy, juicy root vegetable that is often eaten raw or lightly cooked."},{name:"Pickled Cabbage",emoji:"🥬",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["pickle","garnish","side-dish"],description:"Cabbage preserved in a tangy brine, a staple side dish providing a sharp contrast to rich meats."},{name:"Cabbage",emoji:"🥬",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["stir-fry","dumpling","congee"],description:"The humble and resilient staple of the common folk, used in everything from soups to buns."},{name:"Lotus Root",emoji:"🌸",rarity:"Uncommon",category:"vegetable",flavorProfile:"neutral",isPlural:!1,suitability:["stir-fry","salad","braise"],description:"A beautiful, crunchy root with a lacy pattern, symbolizing purity."},{name:"Kale",emoji:"🌿",rarity:"Uncommon",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["stir-fry","salad","bake"],description:"A sturdy green, famously used in the modern, gourmet cuisine of Zaofu."},{name:"White Rice",emoji:"🍚",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["stir-fry","braise","congee","side-dish","steam"],description:"The foundational grain of the Earth Kingdom, served with nearly every meal."},{name:"Dumpling Wrappers",emoji:"🥟",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!0,suitability:["dumpling"],description:"Thin sheets of dough, ready to be filled with savory mixtures and cooked."},{name:"Rich Meat Broth",emoji:"🥣",rarity:"Common",category:"base",flavorProfile:"savory",isPlural:!1,suitability:["braise","congee"],description:"A deep, flavorful broth made from simmering bones and aromatics for hours."},{name:"Egg Noodles",emoji:"🍜",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!0,suitability:["stir-fry","braise"],description:"Hearty, chewy noodles enriched with egg, perfect for soaking up savory sauces."},{name:"Flour",emoji:"🌾",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["bake","dumpling"],description:"A basic necessity for making breads, buns, and pastries."},{name:"Red Bean Paste",emoji:"🫘",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["dumpling","bake"],description:"A sweet, rich paste made from adzuki beans, used as a filling in many desserts."},{name:"Moon Peach",emoji:"🍑",rarity:"Rare",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["bake","dessert"],description:"A legendary fruit from the hills of the Lower Ring, used in special occasion cakes."},{name:"Lychee",emoji:"🥭",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["dessert","beverage","bake"],description:"A sweet, floral fruit used in fine desserts and the crust of egg tarts."},{name:"Egg Custard",emoji:"🍮",rarity:"Common",category:"dairy",flavorProfile:"sweet",isPlural:!1,suitability:["bake"],description:"A sweet, creamy custard that forms the filling of the famous Ba Sing Se egg tarts."},{name:"Ginseng",emoji:"🪵",rarity:"Rare",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["braise","congee","beverage"],description:"A prized root known for its restorative properties and strong, earthy flavor."},{name:"Soy Sauce",emoji:"🫙",rarity:"Common",category:"flavoring",flavorProfile:"umami",isPlural:!1,suitability:["stir-fry","braise","dumpling"],description:"The essential savory seasoning of the Earth Kingdom, brewed from fermented soybeans."},{name:"Ginger",emoji:"🫚",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["stir-fry","braise","congee","beverage"],description:"A sharp, spicy root used to add warmth and complexity to nearly any dish."},{name:"Honey",emoji:"🍯",rarity:"Common",category:"flavoring",flavorProfile:"sweet",isPlural:!1,suitability:["bake","dessert","beverage"],description:"A natural sweetener from the kingdom's wildflower meadows, used to sweeten cakes and teas."},{name:"Jennamite",emoji:"💎",rarity:"Legendary",category:"garnish",flavorProfile:"sweet",isPlural:!1,suitability:["dessert","garnish"],description:"A fast-growing rock candy from the caves of Omashu. A dangerous but delicious garnish."}],D=[{name:"Grilling",dishSubtype:"Grill",description:"Cooking over precisely controlled hot coals, searing meats and vegetables to perfection with a signature smoky flavor."},{name:"Roasting",dishSubtype:"Roast",description:"Using the intense, dry heat of a volcanic-stone oven to cook large cuts of meat or whole komodo chickens."},{name:"Wok-frying",dishSubtype:"Wok-fry",description:"A high-speed, high-heat method that uses minimal oil to create intensely flavorful and spicy dishes."},{name:"Steaming",dishSubtype:"Steam",description:"A disciplined technique using steam to gently cook delicate fish and dumplings, often infused with spices."},{name:"Simmering",dishSubtype:"Simmer",description:"Slowly cooking ingredients in a spiced broth or sauce, allowing flavors to meld and deepen over time."},{name:"Baking",dishSubtype:"Bake",description:"Creating perfectly uniform fire cakes, tarts, and buns in meticulously heated ovens."}],E={nation:"fire-nation",dishEmojis:{"main-course":["🔥","🍖","🌶️"],"side-dish":["🍜","🍚","🥢"],snack:["🍢","🍘","🥟"],dessert:["🍰","🍮","🍒"],"soup-stew":["🍲","🥣"],salad:["🌶️","🥗"],beverage:["🍹","🧉"]},nameParts:{prefixes:["Ember Island","Royal","Volcanic","Sun Warrior's","Blazing","Imperial","Dragon's","Obsidian"],middles:["Flame","Ash","Soot","Caldera","Spire","Magma","Phoenix","Inferno"],suffixes:["Flakes","Feast","Roast","Sizzle","Delight","Skewer","Fury"]}},B=[{name:"Komodo Rhino",emoji:"🦏",rarity:"Uncommon",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["roast","grill","simmer"],description:"A tough, powerful beast whose meat is often made into sausages or roasted for feasts."},{name:"Komodo Chicken",emoji:"🐔",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["roast","grill","wok-fry"],description:"A common bird in the Fire Nation, often roasted whole or served on skewers."},{name:"Bangus Fish",emoji:"🐟",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["wok-fry","steam"],description:"A staple fish from the coastal waters, typically fried until crisp."},{name:"Sea Slug",emoji:"🐌",rarity:"Uncommon",category:"protein",flavorProfile:"umami",isPlural:!1,suitability:["grill","steam"],description:"A delicacy from Shu Jing, often smoked over hot coals to achieve a chewy, savory texture."},{name:"Hippo-ox",emoji:"🐂",rarity:"Common",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["roast","grill"],description:"A large, hearty animal providing tough but flavorful meat for roasts and skewers."},{name:"Fertilized Turtle Duck Egg",emoji:"🥚",rarity:"Rare",category:"protein",flavorProfile:"savory",isPlural:!1,suitability:["steam","simmer"],description:"A controversial delicacy enjoyed by some Fire Nation nobility."},{name:"Fire Chili",emoji:"🌶️",rarity:"Common",category:"vegetable",flavorProfile:"pungent",isPlural:!1,suitability:["roast","grill","wok-fry","simmer","steam","salad"],description:"The defining ingredient of the nation's cuisine, used to bring intense heat and flavor."},{name:"Ash Banana",emoji:"🍌",rarity:"Uncommon",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["bake","roast"],description:"A savory, starchy banana that grows in volcanic soil, often baked into breads."},{name:"Tomato-Carrot",emoji:"🥕",rarity:"Common",category:"vegetable",flavorProfile:"savory",isPlural:!1,suitability:["wok-fry","simmer","roast"],description:"A hybrid vegetable with the sweetness of a carrot and the acidity of a tomato."},{name:"Scallion",emoji:"🌱",rarity:"Common",category:"vegetable",flavorProfile:"pungent",isPlural:!0,suitability:["wok-fry","garnish","steam"],description:"Used ubiquitously as an aromatic finisher, adding a sharp, bright flavor."},{name:"Peas",emoji:"🫛",rarity:"Common",category:"vegetable",flavorProfile:"sweet",isPlural:!0,suitability:["wok-fry","simmer"],description:"Small, sweet peas that add a pop of color and texture to rice and noodle dishes."},{name:"Sorghum",emoji:"🌾",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["simmer","bake"],description:"A hardy, ancient grain that can be cooked into a porridge or ground into flour."},{name:"Millet",emoji:"🌾",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["roast","bake"],description:"A small grain often toasted to create a nutty, satisfying travel snack."},{name:"Rice",emoji:"🍚",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["steam","wok-fry","simmer"],description:"The staple grain, steamed perfectly to accompany spicy dishes."},{name:"Fire Noodles",emoji:"🍜",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!0,suitability:["wok-fry","simmer"],description:"Chewy wheat noodles, often served extra spicy for breakfast."},{name:"Fire-Proof Dough",emoji:"🍞",rarity:"Common",category:"base",flavorProfile:"neutral",isPlural:!1,suitability:["bake"],description:"A special dough used for making fire cakes and other pastries that can withstand intense heat."},{name:"Dragon Paw Fruit",emoji:"🐲",rarity:"Rare",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["dessert"],description:"A sweet, juicy fruit with a spiny shell, resembling a dragon's paw."},{name:"Ember Island Cherries",emoji:"🍒",rarity:"Common",category:"fruit",flavorProfile:"sweet",isPlural:!0,suitability:["dessert","bake"],description:"Sweet and tart cherries grown exclusively on Ember Island, perfect for making ice cream."},{name:"Star Apple",emoji:"🌟",rarity:"Uncommon",category:"fruit",flavorProfile:"sweet",isPlural:!1,suitability:["dessert"],description:"A fruit with toxic skin but incredibly sweet, star-patterned flesh."},{name:"Sweet Cream",emoji:"🍦",rarity:"Common",category:"dairy",flavorProfile:"sweet",isPlural:!1,suitability:["dessert"],description:"A rich cream used as a base for ice creams and a topping for hotcakes."},{name:"Togarashi Spice",emoji:"🌶️",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["grill","roast","wok-fry","simmer"],description:"A complex, seven-spice blend that is the signature seasoning of the Fire Nation."},{name:"Karashi Mustard",emoji:"💛",rarity:"Common",category:"flavoring",flavorProfile:"pungent",isPlural:!1,suitability:["garnish","side-dish"],description:"An intensely hot and iconic mustard, used as a condiment for meats and dumplings."},{name:"Black Volcanic Salt",emoji:"🧂",rarity:"Uncommon",category:"flavoring",flavorProfile:"savory",isPlural:!1,suitability:["grill","roast"],description:"Salt harvested from volcanic fields, infused with minerals that give it a sharp, smoky flavor."},{name:"Palm Sugar",emoji:"🍯",rarity:"Common",category:"flavoring",flavorProfile:"sweet",isPlural:!1,suitability:["bake","dessert","beverage"],description:"A rich, caramel-like sugar harvested from palm trees, used to sweeten desserts and beverages."},{name:"Flaming Fire Flakes",emoji:"🔥",rarity:"Common",category:"garnish",flavorProfile:"pungent",isPlural:!0,suitability:["garnish","snack"],description:"Thin, crispy flakes made from spiced dough, a popular and fiery snack."}],c=r=>r[Math.floor(Math.random()*r.length)],T=(r,e)=>{const{cookingStyle:t,nationData:a}=e,{category:i,flavorProfile:o}=r,s=o==="sweet";if(a.nation==="air-nomads"){if(t.name==="Baking"||t.name==="Piemaking")return c(i==="protein"?["hearty","savory-baked","tender"]:s?["sweetly baked","warm","caramelized","delicate"]:["golden-baked","flaky","savory"]);if(t.name==="Light Sauté")return c(["crisp-tender","lightly sautéed","vibrant"])}if(a.nation==="water-tribe"){if(t.name==="Stewing")return c(["hearty","rich","warming","slow-cooked"]);if(t.name==="Grilling")return c(["fire-charred","smoky","bold"]);if(t.name==="Poaching")return c(["delicate","gently poached","brothy"]);if(t.name==="Curing")return c(["sea-salted","wind-dried","savory"]);if(t.name==="Freezing")return c(["ice-crystalized","frost-kissed","chilled"])}return c(s?["sweet","delightful"]:["savory","hearty"])},M={"air-nomads":[{tag:"philosophy",text:r=>"The patterns made by the steam (or crust) are often used as a meditative focus, representing the transient and beautiful nature of life."},{tag:"tradition",text:r=>"An ancient recipe passed down through generations of monks, it is said that preparing this dish fosters a deep connection to the element of air."},{tag:"legend",text:r=>"Legend says that Avatar Yangchen herself favored a similar dish, enjoying it after long sessions of meditation to reground herself."},{tag:"practical",text:r=>"Often prepared for young Air Acolytes, this meal teaches the importance of patience and finding joy in simple, wholesome things."}],"water-tribe":[{tag:"philosophy",text:r=>"This dish represents the tribe's philosophy: use what the spirits provide, waste nothing, and share everything with the community."},{tag:"tradition",text:r=>"A communal meal, this dish is often cooked in a single large pot in the center of the hut, its warmth warding off the polar night."},{tag:"legend",text:r=>`It is said that the first hunters who caught ${r.primaryIngredient.name.toLowerCase()} learned to prepare it this way by observing moon spirits.`},{tag:"practical",text:r=>"The methods used to prepare this food are ancient, designed to provide maximum warmth and energy for hunters braving the icy wastes."}],"earth-kingdom":[],"fire-nation":[]},P=[{tag:"ingredient_centric",text:r=>`At its heart, this dish celebrates the ${T(r.primaryIngredient,r)} flavor of ${r.primaryIngredient.name.toLowerCase()}.`},{tag:"ingredient_centric",text:r=>`The experience begins with ${r.primaryIngredient.name.toLowerCase()}${r.secondaryIngredient?`, perfectly complemented by the essence of ${r.secondaryIngredient.name.toLowerCase()}.`:", a simple and pure flavor experience."}`},{tag:"style_centric",text:r=>`${r.cookingStyle.name} brings out a unique harmony between the ingredients, creating a texture that is both satisfying and light.`},{tag:"theme_centric",text:r=>`In keeping with its '${r.theme}' theme, the preparation is simple yet profound, allowing the natural flavors to shine.`}];class L{buildDescriptionSentence(e,t=[]){const a=P.filter(o=>!t.includes(o.tag)),i=c(a.length>0?a:P);return{sentence:i.text(e),usedTag:i.tag}}buildLoreSentence(e){const t=e.nationData.nation,a=M[t];return!a||a.length===0?"Every dish tells a story, and the tale of this one is waiting to be written.":c(a).text(e)}}const y=r=>r[Math.floor(Math.random()*r.length)];class N{grammar;constructor(){this.grammar=new L}generateName(e){const{nameParts:t}=e.nationData,a=y(t.prefixes),i=y(t.middles),o=y(t.suffixes),{dishSubtype:s}=e.cookingStyle,{primaryIngredient:l}=e,d=(m=>m.name.includes("Lentils")?"Lentil":m.name.includes("Mung Beans")?"Mung Bean":m.name.includes("Nuts")?"Nut":m.name.split(" ")[0])(l),n=Math.random();return["Curry","Pie","Juice","Salad","Stir-fry"].includes(s)?n<.6?`${a} ${d} ${s}`:`${i} ${d} ${s}`:n<.4?`${a} ${d} ${o}`:n<.7?`${i} ${d} Medley`:`${a} ${i} Special`}generateDescription(e){let t=[];const{sentence:a,usedTag:i}=this.grammar.buildDescriptionSentence(e,t);t.push(i);const{sentence:o}=this.grammar.buildDescriptionSentence(e,t);return`${a} ${o}`}generateLore(e){return this.grammar.buildLoreSentence(e)}}const $={"main-course":{protein:1,vegetable:2,base:1,flavoring:1},"side-dish":{vegetable:2,flavoring:1},snack:{protein:1,vegetable:1},dessert:{fruit:2,flavoring:1,garnish:1},"soup-stew":{protein:1,vegetable:2,base:1,flavoring:1},salad:{vegetable:2,garnish:1,protein:1},beverage:{fruit:1,flavoring:1}},I={"air-nomads":{"main-course":["Baking","Steaming","Light Sauté","Simmering","Piemaking"],"side-dish":["Steaming","Light Sauté","Simmering","Baking"],snack:["Minimalist Assembly","Baking","Light Sauté"],dessert:["Baking","Piemaking","Minimalist Assembly"],"soup-stew":["Simmering"],salad:["Minimalist Assembly"],beverage:["Juicing"]},"water-tribe":{"main-course":["Stewing","Grilling","Poaching","Boiling"],"side-dish":["Boiling","Poaching"],snack:["Curing","Grilling"],dessert:["Freezing"],"soup-stew":["Stewing"],salad:["Minimalist Assembly"],beverage:["Brewing"]},"earth-kingdom":{"main-course":["Roasting","Stir-frying","Braising"],"side-dish":["Stir-frying","Pickling","Steaming"],snack:["Dumpling Making","Steaming"],dessert:["Baking"],"soup-stew":["Congee Making","Braising"],salad:["Minimalist Assembly"],beverage:["Brewing"]},"fire-nation":{"main-course":["Grilling","Roasting","Wok-frying"],"side-dish":["Steaming","Wok-frying"],snack:["Grilling","Roasting"],dessert:["Baking"],"soup-stew":["Simmering"],salad:["Minimalist Assembly"],beverage:["Brewing"]}};function R(r){const e=[...r];for(let t=e.length-1;t>0;t--){const a=Math.floor(Math.random()*(t+1));[e[t],e[a]]=[e[a],e[t]]}return e}const f=r=>r[Math.floor(Math.random()*r.length)],G=(r,e)=>r.length===0?[]:R(r).slice(0,e);class U{textGenerator;ingredients;cookingStyles;nationData;constructor(e){switch(this.textGenerator=new N,e){case"air-nomads":this.nationData=v,this.ingredients=w,this.cookingStyles=b;break;case"water-tribe":this.nationData=C,this.ingredients=A,this.cookingStyles=S;break;case"earth-kingdom":this.nationData=j,this.ingredients=x,this.cookingStyles=F;break;case"fire-nation":this.nationData=E,this.ingredients=B,this.cookingStyles=D;break;default:console.warn(`Data for nation "${e}" not found, defaulting to Air Nomads.`),this.nationData=v,this.ingredients=w,this.cookingStyles=b}}generateDish(e){const t=this.createLinkedContext(e),a=this.textGenerator.generateName(t),i=this.textGenerator.generateDescription(t),o=this.textGenerator.generateLore(t),s=this.nationData.dishEmojis[e]||this.nationData.dishEmojis.snack,l=f(s);return{name:a,description:i,lore:o,nation:this.nationData.nation,dishType:e,emoji:l,ingredients:t.allIngredients,cookingStyle:t.cookingStyle}}createLinkedContext(e){const t=I[this.nationData.nation][e];if(!t||t.length===0)throw new Error(`No valid cooking styles defined for dish type '${e}' in nation '${this.nationData.nation}'`);const a=this.cookingStyles.filter(l=>t.includes(l.name)),i=f(a),o=this.selectIngredients(e,i);if(o.length===0)throw new Error(`Could not find any ingredients for ${e} with style ${i.name}.`);if(o.length<2&&e!=="snack"&&e!=="beverage")throw new Error(`Could not select enough suitable ingredients for dish type: ${e} with style ${i.name}.`);return{theme:f(["Humble & Meditative","Ceremonial & Celebratory","Invigorating & Playful","Ancient & Traditional"]),primaryIngredient:o[0],secondaryIngredient:o.length>1?o[1]:o[0],cookingStyle:i,allIngredients:o,nationData:this.nationData}}selectIngredients(e,t){const a=t.dishSubtype.toLowerCase(),i=$[e];if(!i)throw new Error(`No recipe blueprint found for dish type: ${e}`);const o=e==="dessert"||e==="beverage";let s=this.ingredients.filter(d=>d.suitability.includes(a));o?s=s.filter(d=>d.flavorProfile==="sweet"):s=s.filter(d=>d.flavorProfile!=="sweet");let l=[],g=new Set;for(const d in i){const n=d,m=i[n],u=s.filter(h=>h.category===n&&!g.has(h.name));G(u,m).forEach(h=>{l.push(h),g.add(h.name)})}return l}}const k={"air-nomads":{light:{"--theme-primary":"#D97706","--theme-secondary":"#FBBF24","--theme-accent":"#38BDF8","--theme-gradient-background":"linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%)","--theme-text-primary":"#422006","--theme-text-secondary":"#78350F","--theme-bg-card":"rgba(255, 251, 235, 0.9)","--theme-border-primary":"rgba(217, 119, 6, 0.2)","--dropdown-arrow-color":"#D97706","--theme-bg-primary":"linear-gradient(135deg, #FEF3C7 0%, #FDE68A 100%)","--theme-bg-secondary":"#FEF3C7","--theme-bg-overlay":"rgba(255, 251, 235, 0.95)","--theme-text-accent":"#38BDF8","--theme-border-secondary":"#FDE68A","--theme-shadow-light":"0 2px 8px rgba(217, 119, 6, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(217, 119, 6, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(217, 119, 6, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #FEF3C7 0%, #FDE68A 100%)","--theme-gradient-button":"linear-gradient(45deg, #D97706, #B45309)"},dark:{"--theme-primary":"#FBBF24","--theme-secondary":"#F87171","--theme-accent":"#67E8F9","--theme-gradient-background":"linear-gradient(135deg, #4A2B0F 0%, #2A1C0A 100%)","--theme-text-primary":"#FEF3C7","--theme-text-secondary":"#FDE68A","--theme-bg-card":"rgba(42, 28, 10, 0.9)","--theme-border-primary":"rgba(251, 191, 36, 0.3)","--dropdown-arrow-color":"#FBBF24","--theme-bg-primary":"linear-gradient(135deg, #4A2B0F 0%, #2A1C0A 100%)","--theme-bg-secondary":"#2A1C0A","--theme-bg-overlay":"rgba(42, 28, 10, 0.95)","--theme-text-accent":"#67E8F9","--theme-border-secondary":"#4A2B0F","--theme-shadow-light":"0 2px 8px rgba(251, 191, 36, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(251, 191, 36, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(251, 191, 36, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #2A1C0A 0%, #4A2B0F 100%)","--theme-gradient-button":"linear-gradient(45deg, #FBBF24, #F59E0B)"}},"water-tribe":{light:{"--theme-primary":"#0E7490","--theme-secondary":"#67E8F9","--theme-accent":"#F0F9FF","--theme-gradient-background":"linear-gradient(135deg, #E0F2FE 0%, #A5F3FC 100%)","--theme-text-primary":"#164E63","--theme-text-secondary":"#0891B2","--theme-bg-card":"rgba(240, 249, 255, 0.9)","--theme-border-primary":"rgba(14, 116, 144, 0.2)","--dropdown-arrow-color":"#0E7490","--theme-bg-primary":"linear-gradient(135deg, #E0F2FE 0%, #A5F3FC 100%)","--theme-bg-secondary":"#E0F2FE","--theme-bg-overlay":"rgba(240, 249, 255, 0.95)","--theme-text-accent":"#F0F9FF","--theme-border-secondary":"#A5F3FC","--theme-shadow-light":"0 2px 8px rgba(14, 116, 144, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(14, 116, 144, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(14, 116, 144, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #E0F2FE 0%, #A5F3FC 100%)","--theme-gradient-button":"linear-gradient(45deg, #0E7490, #0C4A6E)"},dark:{"--theme-primary":"#67E8F9","--theme-secondary":"#A5F3FC","--theme-accent":"#F0F9FF","--theme-gradient-background":"linear-gradient(135deg, #1F2937 0%, #082F49 100%)","--theme-text-primary":"#F0F9FF","--theme-text-secondary":"#A5F3FC","--theme-bg-card":"rgba(15, 23, 42, 0.9)","--theme-border-primary":"rgba(103, 232, 249, 0.3)","--dropdown-arrow-color":"#67E8F9","--theme-bg-primary":"linear-gradient(135deg, #1F2937 0%, #082F49 100%)","--theme-bg-secondary":"#082F49","--theme-bg-overlay":"rgba(15, 23, 42, 0.95)","--theme-text-accent":"#F0F9FF","--theme-border-secondary":"#1F2937","--theme-shadow-light":"0 2px 8px rgba(103, 232, 249, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(103, 232, 249, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(103, 232, 249, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #082F49 0%, #1F2937 100%)","--theme-gradient-button":"linear-gradient(45deg, #67E8F9, #06B6D4)"}},"earth-kingdom":{light:{"--theme-primary":"#16A34A","--theme-secondary":"#FACC15","--theme-accent":"#A16207","--theme-gradient-background":"linear-gradient(135deg, #F0FDF4 0%, #D1FAE5 100%)","--theme-text-primary":"#14532D","--theme-text-secondary":"#15803D","--theme-bg-card":"rgba(240, 253, 244, 0.9)","--theme-border-primary":"rgba(22, 163, 74, 0.2)","--dropdown-arrow-color":"#16A34A","--theme-bg-primary":"linear-gradient(135deg, #F0FDF4 0%, #D1FAE5 100%)","--theme-bg-secondary":"#F0FDF4","--theme-bg-overlay":"rgba(240, 253, 244, 0.95)","--theme-text-accent":"#A16207","--theme-border-secondary":"#D1FAE5","--theme-shadow-light":"0 2px 8px rgba(22, 163, 74, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(22, 163, 74, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(22, 163, 74, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #F0FDF4 0%, #D1FAE5 100%)","--theme-gradient-button":"linear-gradient(45deg, #16A34A, #15803D)"},dark:{"--theme-primary":"#4ADE80","--theme-secondary":"#FDE047","--theme-accent":"#FEF08A","--theme-gradient-background":"linear-gradient(135deg, #1C1917 0%, #172513 100%)","--theme-text-primary":"#D1FAE5","--theme-text-secondary":"#A7F3D0","--theme-bg-card":"rgba(23, 37, 19, 0.9)","--theme-border-primary":"rgba(74, 222, 128, 0.3)","--dropdown-arrow-color":"#4ADE80","--theme-bg-primary":"linear-gradient(135deg, #1C1917 0%, #172513 100%)","--theme-bg-secondary":"#172513","--theme-bg-overlay":"rgba(23, 37, 19, 0.95)","--theme-text-accent":"#FEF08A","--theme-border-secondary":"#1C1917","--theme-shadow-light":"0 2px 8px rgba(74, 222, 128, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(74, 222, 128, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(74, 222, 128, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #172513 0%, #1C1917 100%)","--theme-gradient-button":"linear-gradient(45deg, #4ADE80, #22C55E)"}},"fire-nation":{light:{"--theme-primary":"#DC2626","--theme-secondary":"#F97316","--theme-accent":"#44403C","--theme-gradient-background":"linear-gradient(135deg, #FEF2F2 0%, #FDBA74 100%)","--theme-text-primary":"#450A0A","--theme-text-secondary":"#991B1B","--theme-bg-card":"rgba(254, 242, 242, 0.9)","--theme-border-primary":"rgba(220, 38, 38, 0.2)","--dropdown-arrow-color":"#DC2626","--theme-bg-primary":"linear-gradient(135deg, #FEF2F2 0%, #FDBA74 100%)","--theme-bg-secondary":"#FEF2F2","--theme-bg-overlay":"rgba(254, 242, 242, 0.95)","--theme-text-accent":"#44403C","--theme-border-secondary":"#FDBA74","--theme-shadow-light":"0 2px 8px rgba(220, 38, 38, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(220, 38, 38, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(220, 38, 38, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #FEF2F2 0%, #FDBA74 100%)","--theme-gradient-button":"linear-gradient(45deg, #DC2626, #B91C1C)"},dark:{"--theme-primary":"#F87171","--theme-secondary":"#FB923C","--theme-accent":"#FCD34D","--theme-gradient-background":"linear-gradient(135deg, #171717 0%, #440a0a 100%)","--theme-text-primary":"#FEE2E2","--theme-text-secondary":"#FECACA","--theme-bg-card":"rgba(30, 7, 7, 0.9)","--theme-border-primary":"rgba(248, 113, 113, 0.3)","--dropdown-arrow-color":"#F87171","--theme-bg-primary":"linear-gradient(135deg, #171717 0%, #440a0a 100%)","--theme-bg-secondary":"#440a0a","--theme-bg-overlay":"rgba(30, 7, 7, 0.95)","--theme-text-accent":"#FCD34D","--theme-border-secondary":"#171717","--theme-shadow-light":"0 2px 8px rgba(248, 113, 113, 0.1)","--theme-shadow-medium":"0 4px 15px rgba(248, 113, 113, 0.2)","--theme-shadow-heavy":"0 8px 32px rgba(248, 113, 113, 0.3)","--theme-gradient-card":"linear-gradient(145deg, #440a0a 0%, #171717 100%)","--theme-gradient-button":"linear-gradient(45deg, #F87171, #EF4444)"}}};class p{static currentNation="air-nomads";static currentMode="light";static initialize(){const e=window.matchMedia("(prefers-color-scheme: dark)").matches;this.currentMode=e?"dark":"light",this.applyCurrentTheme()}static setNation(e){this.currentNation=e,this.applyCurrentTheme()}static toggleLightDark(){this.currentMode=this.currentMode==="light"?"dark":"light",this.applyCurrentTheme()}static applyCurrentTheme(){const e=document.documentElement,t=document.body,i=(k[this.currentNation]||k["air-nomads"])[this.currentMode];for(const[o,s]of Object.entries(i))e.style.setProperty(o,s);t.className="",t.classList.add(`theme-${this.currentNation}`),t.dataset.theme=this.currentMode}}class z{static generateButton;static dishContainer;static nationSelector;static dishTypeSelector;static decorativeSymbols;static themeToggleButton;static selectedNation="air-nomads";static selectedDishType="main-course";static initialize(){if(this.generateButton=document.getElementById("generate-button"),this.dishContainer=document.getElementById("dish-container"),this.nationSelector=document.getElementById("nation-selector"),this.dishTypeSelector=document.getElementById("dish-type-selector"),this.decorativeSymbols=document.querySelectorAll(".decorative-symbol"),this.themeToggleButton=document.getElementById("theme-toggle"),!this.generateButton||!this.dishContainer||!this.nationSelector||!this.dishTypeSelector||!this.themeToggleButton){console.error("A critical UI element could not be found. Aborting initialization.");return}this.attachEventListeners(),this.setupCustomSelect(this.nationSelector,this.handleNationChange.bind(this)),this.setupCustomSelect(this.dishTypeSelector,this.handleDishTypeChange.bind(this)),this.updateThemeUI()}static attachEventListeners(){this.generateButton.addEventListener("click",this.handleGenerateClick.bind(this)),this.themeToggleButton.addEventListener("click",()=>{p.toggleLightDark(),this.updateThemeUI()})}static updateThemeUI(){const e=document.body.dataset.theme==="dark";this.themeToggleButton.textContent=e?"☀️":"🌙"}static handleGenerateClick(){this.dishContainer.innerHTML='<div class="dish-display generating">The spirits are cooking... Please wait.</div>',this.generateButton.disabled=!0,setTimeout(()=>{try{const t=new U(this.selectedNation).generateDish(this.selectedDishType);this.renderDish(t)}catch(e){console.error("Failed to generate dish:",e),this.renderError(e)}finally{this.generateButton.disabled=!1}},500)}static handleNationChange(e){this.selectedNation=e,p.setNation(this.selectedNation),this.updateDecorativeSymbols(),console.log(`Nation changed to: ${this.selectedNation}`)}static handleDishTypeChange(e){this.selectedDishType=e,console.log(`Dish type changed to: ${this.selectedDishType}`)}static updateDecorativeSymbols(){const t=`/assets/${{"air-nomads":"air_nation-B2k_nS_3.png","water-tribe":"water_nation-B7rWlJEQ.png","earth-kingdom":"earth_nation-C3FaE_j9.png","fire-nation":"fire_nation-BClEM4ky.png"}[this.selectedNation]}`,a=this.selectedNation.replace("-"," ").replace(/\b\w/g,i=>i.toUpperCase());this.decorativeSymbols.forEach(i=>{i.src=t,i.alt=a})}static renderDish(e){const t=e.ingredients.map(i=>this.renderIngredient(i)).join(""),a=`
      <div class="dish-display">
        <h2><span class="dish-emoji">${e.emoji}</span> ${e.name}</h2>
        <div class="dish-sections">
          <div class="description-section">
            <h3>Description</h3>
            <p class="description">${e.description}</p>
          </div>
          <div class="lore-section">
            <h3>Lore</h3>
            <p class="lore">${e.lore}</p>
          </div>
        </div>
        <div class="dish-details">
          <div class="ingredients">
            <h3>Ingredients</h3>
            <ul>
              ${t}
            </ul>
          </div>
          <div class="technique">
            <h3>Cooking Style: ${e.cookingStyle.name}</h3>
            <p>${e.cookingStyle.description}</p>
          </div>
        </div>
      </div>
    `;this.dishContainer.innerHTML=a}static renderIngredient(e){return`
          <li class="ingredient-item ${`rarity-${e.rarity.toLowerCase()}`}">
              <span class="ingredient-emoji">${e.emoji}</span>
              <span class="ingredient-name">${e.name}</span>
              <span class="ingredient-rarity">${e.rarity.toUpperCase()}</span>
          </li>
      `}static renderError(e){const t=`
        <div class="error-message">
            <h3>A Storm in the Kitchen!</h3>
            <p>It seems the generator encountered an issue. The spirits might be a bit unbalanced today.</p>
            <small>Error: ${e.message}</small>
            <button class="retry-button" onclick="document.getElementById('generate-button').click()">Try Again</button>
        </div>
    `;this.dishContainer.innerHTML=t}static setupCustomSelect(e,t){const a=e.querySelector(".selected-option"),i=e.querySelector(".dropdown-options"),o=a.querySelector(".selected-option-content"),s=Array.from(i.querySelectorAll(".option"));if(!a||!i||!o){console.error("Missing dropdown elements");return}let l=e.dataset.value,g=!1;console.log(`Initializing dropdown with value: ${l}`),a.addEventListener("click",n=>{n.preventDefault(),n.stopPropagation(),console.log(`Dropdown clicked, current state: ${g?"open":"closed"}`),document.querySelectorAll(".dropdown-options.show").forEach(m=>{m!==i&&(m.classList.remove("show"),m.previousElementSibling?.classList.remove("open"))}),g=!g,a.classList.toggle("open"),i.classList.toggle("show"),console.log(`Dropdown toggled to: ${g?"open":"closed"}`)}),s.forEach(n=>{n.addEventListener("click",m=>{m.preventDefault(),m.stopPropagation();const u=n.dataset.value;console.log(`Option clicked: ${u}, current value: ${l}`),l!==u?(console.log(`Updating dropdown from ${l} to ${u}`),o.innerHTML=n.innerHTML,e.dataset.value=u,l=u,t(u)):console.log(`No change needed, value remains: ${l}`),g=!1,a.classList.remove("open"),i.classList.remove("show"),console.log("Dropdown closed after selection")})}),i.addEventListener("click",n=>{n.stopPropagation()}),o.addEventListener("click",n=>{n.stopPropagation()});const d=n=>{!n.target.closest(".custom-nation-selector, .custom-dish-type-selector")&&g&&(console.log("Global click outside dropdown - closing"),g=!1,a.classList.remove("open"),i.classList.remove("show"))};document.removeEventListener("click",d),document.addEventListener("click",d)}}document.addEventListener("DOMContentLoaded",()=>{p.initialize(),z.initialize(),console.log("Avatar Culinary Dish Generator Initialized!")});
